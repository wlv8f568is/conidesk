/*! built on Monday, July 24th 2017, 6:20:16 pm */
!function(e){function t(i){if(o[i])return o[i].exports;var n=o[i]={i:i,l:!1,exports:{}};return e[i].call(n.exports,n,n.exports,t),n.l=!0,n.exports}var o={};t.m=e,t.c=o,t.i=function(e){return e},t.d=function(e,o,i){t.o(e,o)||Object.defineProperty(e,o,{configurable:!1,enumerable:!0,get:i})},t.n=function(e){var o=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(o,"a",o),o},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=3)}([function(e,t,o){"use strict";function i(e,t){return e===t}function n(e,t){return e!==t}function r(e,t){return i(e,t)}function s(e,t){return n(e,t)}function a(e,t,o){return 0===Object.keys(o).filter(function(e){return t===e}).length}function p(e,t){return e.indexOf(t)>-1&&e.length>0}function l(e,t){return-1===e.indexOf(t)&&t.length>0}function c(e,t,o){return 0===Object.keys(o).filter(function(e){return e.indexOf(t)>-1&&e.length>0}).length}function u(e,t){return 0===e.lastIndexOf(t,0)}function d(e,t){return 0!==e.lastIndexOf(t,0)}function g(e,t){return-1!==e.indexOf(t,e.length-t.length)}function h(e,t){return-1===e.indexOf(t,e.length-t.length)}function m(){return!0}function f(e){return void 0===e||null===e||0===e.length}function v(e){return void 0!==e&&null!==e&&e.length>0}function P(e,t){return new RegExp(t).test(e)}function w(e,t){return e===t}function b(e,t){return e!==t}function y(e,t){return e>t}function O(e,t){return e<t}function k(e,t){return e>=t}function M(e,t){return e<=t}function _(){return m()}function x(e){return null===e||void 0===e||0===e.length}function C(e){return null!==e&&void 0!==e&&e.length>0}function S(){return null!==(0,V.getCookie)("_omappvp")&&null!==(0,V.getCookie)("_omappvs")}function A(){return null!==(0,V.getCookie)("_omappvp")&&null===(0,V.getCookie)("_omappvs")}function j(e){return null!==e}function T(e){return null===e}function F(){return null===document.getElementById("omappadbl")}function E(){return null!==document.getElementById("omappadbl")}function $(e,t,o){return!!e.isValid()&&("e"===o?e.day()===t.day():e.isSame(t,o))}function I(e,t,o){return!!e.isValid()&&("e"===o?e.day()<t.day():e.isBefore(t,o))}function L(e,t,o){return!!e.isValid()&&("e"===o?e.day()>t.day():e.isAfter(t,o))}function D(e,t,o){return!!e.isValid()&&("e"===o?e.day()<=t.day():e.isSameOrBefore(t,o))}function R(e,t,o){return!!e.isValid()&&("e"===o?e.day()>=t.day():e.isSameOrAfter(t,o))}function H(e,t){return e===t}function Q(e,t){return e!==t}Object.defineProperty(t,"__esModule",{value:!0}),t.exactMatch=i,t.notExactMatch=n,t.entityOn=r,t.entityNotOn=s,t.cookieNotExactMatch=a,t.contains=p,t.notContains=l,t.cookieNotContains=c,t.startsWith=u,t.notStartsWith=d,t.endsWith=g,t.notEndsWith=h,t.wildcard=m,t.empty=f,t.notEmpty=v,t.regex=P,t.equals=w,t.notEquals=b,t.moreThan=y,t.lessThan=O,t.moreThanEqualTo=k,t.lessThanEqualTo=M,t.urlAny=_,t.urlOnHomepage=x,t.urlNotOnHomepage=C,t.visitorIsNew=S,t.visitorIsReturning=A,t.deviceOn=j,t.deviceNotOn=T,t.adblockIsEnabled=F,t.adblockIsDisabled=E,t.on=$,t.before=I,t.after=L,t.onBefore=D,t.onAfter=R,t.geolocationIn=H,t.geolocationNotIn=Q;var V=o(2)},function(e,t){e.exports=jQuery},function(e,t,o){"use strict";function i(e){for(var t=e+"=",o=document.cookie.split(";"),i=0;i<o.length;i++){for(var n=o[i];" "===n.charAt(0);)n=n.substring(1,n.length);if(0===n.indexOf(t))return n.substring(t.length,n.length)}return null}Object.defineProperty(t,"__esModule",{value:!0}),t.getCookie=i},function(e,t,o){"use strict";var i,n,r,s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=o(0),p=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t.default=e,t}(a);window.OptinMonsterAppOptins=window.OptinMonsterAppOptins||{},window.OptinMonsterAppLinkSlugs=window.OptinMonsterAppLinkSlugs||{},window.OptinMonsterAppSettings=window.OptinMonsterAppSettings||{waitNextPageview:!1},window.OptinMonsterAppVariables=window.OptinMonsterAppVariables||{},window.OptinMonsterAppStorage=window.OptinMonsterAppStorage||!1,window.OptinMonsterAppPosition=window.OptinMonsterAppPosition||0,window.OptinMonsterAppPopupLoaded=window.OptinMonsterAppPopupLoaded||!1,window.OptinMonsterAppLocation=window.OptinMonsterAppLocation||{loading:!1},window.OptinMonsterAdbl=window.OptinMonsterAdbl||!1,window.OptinMonsterJqLoaded=window.OptinMonsterJqLoaded||!1,window.OptinMonsterJqGlobal=window.OptinMonsterJqGlobal||!1,window.OptinMonsterSiteData=window.OptinMonsterSiteData||{},window.OptinMonsterSiteLoaded=window.OptinMonsterSiteLoaded||!1,window.OptinMonsterSiteInit=window.OptinMonsterSiteInit||{},window.om_loaded=window.om_loaded||!0;var l=function a(){this.public={},this.messages=[],this.loggedMessages=[],this.pageStartTime=Date.now(),this.waitNextPageview=!1,this.passingCookieNames=[],this.passingQueryArgKeys=[],this.resizeTimer=0,this.delayIncrement=500,this.isLteIE8=document.all&&!document.addEventListener,this.oPageSlidePadding=0,this.animatePageSlide=!0,this.init=function(e){for(var t in e)this.public[t]=e[t];this.isLteIE8||(this.setDefaults(),this.setSessions(),this.setVisitorCookies(),this.getProp("preview")?this.run():this.loadjQuery())},this.setSessions=function(){if("object"===("undefined"==typeof sessionStorage?"undefined":s(sessionStorage)))try{if(!window.OptinMonsterAppStorage){window.OptinMonsterAppStorage=!0;null===sessionStorage.getItem("om-session-start")&&sessionStorage.setItem("om-session-start",this.getCurrentTimestamp());var e=sessionStorage.getItem("om-session-pageviews");null===e?sessionStorage.setItem("om-session-pageviews",1):sessionStorage.setItem("om-session-pageviews",++e)}}catch(e){}},this.setVisitorCookies=function(){this.getCookie("_omappvp")||(this.createCookie("_omappvp",!0,3999),this.createCookie("_omappvs",!0,-1))},this.run=function(){this.setVisibilityDefaults(),this.loadjQuery()},this.setVisibilityDefaults=function(){var e=this,t=e.getProp("type");"slide"==t&&this.setProp("slide_open",!1),window.OptinMonsterAppOptins[this.getProp("optin_js")]={type:t,visible:!1};var o=!!this.getProp("rules_engine").hasOwnProperty("adblockactive")&&this.getProp("rules_engine").adblockactive;void 0!==o&&1==o&&(window.OptinMonsterAppOptins[this.getProp("optin_js")].adblockActive=!0)},this.loadjQuery=function(){var e=this,t=!1;if(void 0===window.om_load_jquery)if(void 0===window.jQuery){window.OptinMonsterJqLoaded=!0;var o=document.createElement("script");o.src="//ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js",o.async=!0,o.onload=o.onreadystatechange=function(){var o=this.readyState;if(!o||"complete"==o||"loaded"==o)try{t||(e.loadjQueryHandler(!1),t=!0)}catch(e){}},(document.getElementsByTagName("head")[0]||document.documentElement).appendChild(o)}else if(e.hasMinimumJqVersion()||window.OptinMonsterJqLoaded)if(window.OptinMonsterJqLoaded){var i,n=!1;i=e.poll(function(){window.OptinMonsterJqGlobal&&!n&&(n=!0,e.public.ejQuery=window.jQuery,e.public.$=window.OptinMonsterJqGlobal,e.loadApp(),clearInterval(i))},500)}else e.public.$=e.public.ejQuery=window.jQuery,e.loadApp();else{window.OptinMonsterJqLoaded=!0,this.public.ejQuery=window.jQuery;var o=document.createElement("script");o.src="//ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js",o.async=!0,o.onload=o.onreadystatechange=function(){var o=this.readyState;if(!o||"complete"==o||"loaded"==o)try{t||(e.loadjQueryHandler(!0),t=!0)}catch(e){}},(document.getElementsByTagName("head")[0]||document.documentElement).appendChild(o)}else if(void 0===window.jQuery){var r,s=!1;r=e.poll(function(){void 0===window.jQuery||s||(s=!0,e.public.$=e.public.ejQuery=window.jQuery,e.loadApp(),clearInterval(r))},500)}else e.public.$=e.public.ejQuery=window.jQuery,e.loadApp()},this.loadjQueryHandler=function(e){e?(this.public.$=window.jQuery.noConflict(!0),window.OptinMonsterJqGlobal=this.public.$,this.loadApp()):(this.public.$=this.public.ejQuery=window.jQuery,window.OptinMonsterJqGlobal=this.public.$,this.loadApp())},this.loadApp=function(){var e=this;e.public.$(document).ready(function(t){e.corsPatch(),e.runOptinMonster()})},this.runOptinMonster=function(){var e=this,t=e.getProp("$");if(this.getProp("preview"))this.trigger("OptinMonsterInit"),this.fonts(!0);else{if(this.registerVariables(),this.trigger("OptinMonsterInit"),this.getProp("sitewide")){var o=this.getjQueryTrigger();return this.public.ejQuery(document)[o]("OptinMonsterSiteLoaded",function(e,o,i){t.each(window.OptinMonsterSiteData,function(e,n){t.each(n,function(e,t){if(t.output.optin_js==o.output.optin_js&&!window.OptinMonsterSiteInit.hasOwnProperty(t.output.optin_js))return window.OptinMonsterSiteInit[t.output.optin_js]=!0,i.retrieveSuccess(i)(n),!1})})}),void this.trigger("OptinMonsterSiteLoaded")}if(this.getProp("s")){var i=this.getProp("s").split("."),n=this.retrieveSiteSuccess(this),r=this.retrieveError(this),s=i[0],a=i[1],p=this.getProp("api_site")+s+"/"+a;this.setProp("site_id",a)}else var i=this.getProp("u").split("."),n=this.retrieveSuccess(this),r=this.retrieveError(this),s=i[0],l=i[1],p=this.getProp("api_optin")+s+"/"+l;this.requestJSONP(p,n,r)}},this.retrieveSiteSuccess=function(e){var t=e.getProp("$"),o={};return function(i){t.each(i,function(i,n){if(!n)return!0;o[i]={},t.each(n,function(t,n){var r=e.getProp("s").split("."),s=r[0];n.u=s+"."+n.output.id,n.dev=e.getProp("dev"),n.staging=e.getProp("staging"),n.beta=e.getProp("beta"),n.sitewide=!0,o[i][t]=n})}),o=Object.keys(o).map(function(e){return o[e]}),o.sort(function(e,t){var o=t[Object.keys(t)[0]];return o.hasOwnProperty("rules_engine")&&o.rules_engine.hasOwnProperty("adblockactive")&&void 0!==o.rules_engine.adblockactive&&1==o.rules_engine.adblockactive?1:0}),window.OptinMonsterSiteData=o,t.each(o,function(e,o){t.each(o,function(e,o){if(o.hasOwnProperty("output")&&o.output.hasOwnProperty("optin_js")&&window[o.output.optin_js])return!0;if(o.hasOwnProperty("is_clone"))return!0;if(o.hasOwnProperty("type")&&"post"!==o.type&&"sidebar"!==o.type){0===t("#om-"+o.output.optin+"-holder").length&&t("body").append('<div id="om-'+o.output.optin+'-holder" />')}window[o.output.optin_js]=new a,window[o.output.optin_js].init(o)})})}},this.retrieveSuccess=function(e){var t=e.getProp("$");return function(o){var i=t.map(o,function(e,t){return[e]}),n=[],r=!1;t.each(i,function(e,t){t.output.hasOwnProperty("id")&&(n[e]=t.output.id)});for(var s in i)void 0!==i[s]&&(i[s].hasOwnProperty("original")&&(e.setProp("original_id",i[s].output.id),e.setProp("original_optin",i[s].output.optin),e.setProp("original_js",i[s].output.optin_js)),i[s].hasOwnProperty("primary")&&i[s].hasOwnProperty("campaign_status")&&"paused"==i[s].campaign_status&&e.setProp("campaign_status","paused"),i[s].hasOwnProperty("campaign_status")&&"paused"==i[s].campaign_status&&(i[s].hasOwnProperty("original")||(r=i.splice(s,1))));if(0!==i.length){e.getProp("original_id")||(e.setProp("original_id",i[0].output.id),e.setProp("original_optin",i[0].output.optin),e.setProp("original_js",i[0].output.optin_js));var a=e.pickRandomKey(i);for(var p in i[a])i[a].hasOwnProperty(p)&&(e.public[p]=i[a][p]);for(var s in e.public.output)e.public.output.hasOwnProperty(s)&&(e.public[s]=e.public.output[s]);r&&i.push(r.shift());var l=!1;if(t.each(i,function(o,i){if(i.output.hasOwnProperty("optin")&&!l){var n=t("#om-"+i.output.optin+"-holder");n.length>0&&(l=!0,n.attr("id","om-"+e.getProp("optin")+"-holder"))}}),e.setProp("clones",n),"full-page-takeover"==e.getProp("type")&&e.isMobile()&&e.setProp("exit",0),e.getProp("preview"))return void e.fonts(!0);if(e.getProp("public")&&(e.fonts(!0),e.setProp("forceShow",!0)),e.trigger("OptinMonsterContentLoaded"),e.getProp("builderv3_saved")){if(e.setVisibilityDefaults(),e.globalHideArg()&&(e.createCookie("om-global-cookie",1,0==e.getSiteProp("global_cookie")?-1:e.getSiteProp("global_cookie")),e.createCookie("om-interaction-cookie",1,0==e.getSiteProp("global_interaction_cookie")?-1:e.getSiteProp("global_interaction_cookie"))),!e.loadPreCheck(!0))return;var c,u=!1,d=e.getProp("type"),g=e.getRulesetRegistry(JSON.parse(e.getProp("rules_engine").rulesets.replace(/\\/g,"\\\\"))),h=e.processRulesets(g),m=e.anyRulesetsPassed(h);m&&e.loadPreCheck()&&("post"!=d&&"sidebar"!=d&&e.globalHideArg()||(u=!0,e.fonts(!0)),"post"!=d&&"sidebar"!=d||e.setProp("forceShow",!0));var f=setInterval(function(){h=e.processRulesets(g),m=e.anyRulesetsPassed(h);var t=window.OptinMonsterAppOptins[e.getProp("optin_js")].visible,o={},i=!1,n={},r=!1,s=!1,a=!1;h.map(function(t,n){return o[t.hash]=!1,t.allRulesPassed&&t.hasExitIntent?(e.createExitEvent(e.getProp("optin_js"),t.hash),o[t.hash]=i=!0):!t.allRulesPassed&&t.hasExitIntent&&(e.destroyExitEvent(e.getProp("optin_js"),t.hash),o[t.hash]=i=!1),o}.bind(this)),h.map(function(t,o){return n[t.hash]=!1,t.hasMonsterLink?(e.createMonsterLinkEvent(e.getProp("optin_js"),t.hash),n[t.hash]=r=s=!0):!t.allRulesPassed&&t.hasMonsterLink&&(r=!1),n}.bind(this));t||e.loadPreCheck(r)&&(c=h.filter(function(t){return t.allRulesPassed&&(u||(n[t.hash]||!n[t.hash]&&!e.globalHideArg())&&(u=!0,e.fonts(!0),o[t.hash]||n[t.hash]||(a=!0,e.setProp("forceShow",!0)))),t.allRulesPassed&&!t.hasExitIntent&&!t.hasMonsterLink}),g=h.filter(function(e){return!e.allRulesPassed||e.keepAlive||e.hasExitIntent&&e.keepAlive||e.hasMonsterLink&&e.keepAlive}),c.length>0&&(i||s||a||e.show())),(t||0===g.length)&&clearInterval(f)},500)}else e.canLoad()&&e.fonts(!0)}}},this.geoLocate=function(e){var t={optin_id:this.getProp("id"),user_id:parseInt(this.getProp("u").split(".")[0]),referrer:window.location.href,auth:e},o=this.getProp("api_locate"),i=this.setGeoLocation,n=this.geoError;window.OptinMonsterAppLocation.loading=!0,this.requestCORS(o,t,i,n)},this.setGeoLocation=function(e){window.OptinMonsterAppLocation.loading=!1,window.OptinMonsterAppLocation.data="string"==typeof e?JSON.parse(e):e},this.geoError=function(e){window.OptinMonsterAppLocation.loading=!1,window.OptinMonsterAppLocation.error=e},this.processRulesets=function(e){return e.map(function(e){return e.allRulesPassed=this.checkRules(e.rules),e.hasMonsterLink&&(e.allRulesPassed=!0),e}.bind(this))},this.anyRulesetsPassed=function(e){return e.filter(function(e){return!0===e.allRulesPassed}).length>0},this.checkRules=function(e){return e.map(function(e){return e.map(function(e){return e.conditionType(e.conditionOperator,e.conditionValue,e.conditionUnit)}).every(function(e){return!0===e})}).every(function(e){return!0===e})},this.rulesetShouldKeepAlive=function(e){var t=!1;return this.getProp("$").each(e,function(e,o){if(("time-delay"===o.rule||"scroll"===o.rule)&&o.conditions[0].length>1)return t=!0,!1}),t},this.rulesetHasExitIntent=function(e){var t=!1;return this.getProp("$").each(e,function(e,o){if("exit-intent"===o.rule)return t=!0,!1}),t},this.rulesetHasMonsterLink=function(e){var t=!1;return this.getProp("$").each(e,function(e,o){if("monsterlink"===o.rule)return t=!0,!1}),t},this.rulesetHasDateRule=function(e){var t=!1,o=this.getProp("$"),i=!1;return o.each(e,function(e,o){if("datetime"===o.rule){if(t=!0,void 0===window.moment||"2.17.1"!==window.moment.version){var n=document.createElement("script");n.src="//cdnjs.cloudflare.com/ajax/libs/moment.js/2.17.1/moment.min.js",n.async=!0,n.onload=n.onreadystatechange=function(){var e=this.readyState;if(!e||"complete"==e||"loaded"==e)try{if(!i){i=!0;var t=document.createElement("script");t.src="//cdnjs.cloudflare.com/ajax/libs/moment-timezone/0.5.11/moment-timezone-with-data.min.js",t.async=!0,(document.getElementsByTagName("head")[0]||document.documentElement).appendChild(t)}}catch(e){}},(document.getElementsByTagName("head")[0]||document.documentElement).appendChild(n)}return!1}}),t},this.rulesetHasDeviceRule=function(e){var t=!1,o=this.getProp("$");return o.each(e,function(e,o){if("mobile"===o.rule){if(t=!0,void 0===window.MobileDetect){var i=document.createElement("script");i.src="//cdn.jsdelivr.net/mobile-detect.js/1.3.5/mobile-detect.min.js",i.async=!0,(document.getElementsByTagName("head")[0]||document.documentElement).appendChild(i)}return!1}}),t},this.rulesetHasGeolocationRule=function(e){var t=!1,o=this,i=this.getProp("$");return i.each(e,function(e,i){if("geolocation"===i.rule){t=!0;var n=o.getProp("rules_engine").geoauthcode;return void 0!==n&&!1!==n&&!1===window.OptinMonsterAppLocation.loading&&void 0===window.OptinMonsterAppLocation.data&&o.geoLocate(n),!1}}),t},this.rulesetHasAdblockRule=function(e){var t=!1,o=this.getProp("$");return o.each(e,function(e,o){if("adblock"===o.rule){if(t=!0,!window.OptinMonsterAdbl){window.OptinMonsterAdbl=!0;var i=document.createElement("script");i.src="//a.optnmstr.com/app/js/ads.js",i.async=!0,(document.getElementsByTagName("head")[0]||document.documentElement).appendChild(i)}return!1}}),t},this.getRulesetRegistry=function(e){return e.map(function(e){var t=this.getActiveRules(e.rules);return e.hasMonsterLink=this.rulesetHasMonsterLink(t),e.hasExitIntent=this.rulesetHasExitIntent(t)&&!e.hasMonsterLink,e.keepAlive=this.rulesetShouldKeepAlive(t)&&!e.hasMonsterLink,e.hasDateRule=this.rulesetHasDateRule(t),e.hasDeviceRule=this.rulesetHasDeviceRule(t),e.hasGeolocationRule=this.rulesetHasGeolocationRule(t),e.hasAdblockRule=this.rulesetHasAdblockRule(t),e.hash=Math.random().toString(36).slice(2),e.rules=this.buildRuleCallable(t,e.hash),e}.bind(this))},this.getActiveRules=function(e){return e.filter(function(e){return!0===e.active})},this.buildRuleCallable=function(e,t){return e.map(function(e){return e.conditions[0].map(function(e){return{conditionType:this.getRuleMethod(e.type,"rule"),conditionOperator:void 0!==e.operator?this.getRuleMethod(e.operator,"operator"):void 0,conditionValue:e.value||void 0,conditionUnit:e.unit||void 0,hash:t,index:Math.random().toString(12).slice(2),app:this}}.bind(this))}.bind(this))},this.getRuleMethod=function(e,t){t=void 0===t?"":t,e=e||"";var o=e.split("-"),i=[];if("operator"===t){if(1===o.length)return p[o[0]];for(var n=1;n<o.length;n++)i.push(o[n].charAt(0).toUpperCase()+o[n].slice(1));return p[o[0]+i.join("")]}for(var r=0;r<o.length;r++)i.push(o[r].charAt(0).toUpperCase()+o[r].slice(1));return this[t+i.join("")]},this.ruleExitSensitivity=function(e,t){return void 0===t?this.app.setProp("exit_sensitivity",20):this.app.setProp("exit_sensitivity",parseInt(t)),!0},this.rulePageTime=function(e,t){if(void 0===t)return!0;if("post"==this.app.getProp("type")||"sidebar"==this.app.getProp("type"))return!0;var o=void 0===t?0:1e3*parseInt(t);"slide"==this.app.getProp("type")&&this.app.getProp("slide_toggle")&&this.app.setProp("delay",o),this.app.isPopup(this.app.getProp("type"))&&(window.OptinMonsterAppOptins.hasOwnProperty(this.app.getProp("optin_js"))&&!window.OptinMonsterAppOptins[this.app.getProp("optin_js")].hasOwnProperty(this.hash+this.index)?(o+=parseInt(this.app.delayIncrement*OptinMonsterAppPosition),window.OptinMonsterAppOptins[this.app.getProp("optin_js")][this.hash+this.index]={},window.OptinMonsterAppOptins[this.app.getProp("optin_js")][this.hash+this.index].delay=o,window.OptinMonsterAppPosition++):o=window.OptinMonsterAppOptins[this.app.getProp("optin_js")][this.hash+this.index].delay);var i=this.app.pageStartTime+o;return e(this.app.getCurrentTimestamp(),i)},this.ruleSiteTime=function(e,t){if(void 0===t)return!0;if("post"==this.app.getProp("type")||"sidebar"==this.app.getProp("type"))return!0;var o=void 0===t?0:1e3*parseInt(t),i=this.app.getSessionStartTime()+o;return e(this.app.getCurrentTimestamp(),i)},this.ruleScroll=function(e,t,o){if(void 0===t)return!0;if("post"==this.app.getProp("type")||"sidebar"==this.app.getProp("type"))return!0;var i=this.app.getScrollAmount(o);return"slide"==this.app.getProp("type")&&this.app.getProp("slide_toggle")&&1!==o&&(this.app.setProp("scroll",parseInt(t)),this.app.setProp("slide_scroll",!0)),e(i,parseInt(t))},this.ruleMonsterlink=function(e,t){return this.app.setProp("click",!0),!0},this.ruleUrlPath=function(e,t){if(void 0===t){var o=e.toString();if(o.indexOf("value === null || value === undefined || value.length === 0")<0&&o.indexOf("null===e||void 0===e||0===e.length")<0&&o.indexOf("value !== null && value !== undefined && value.length > 0")<0&&o.indexOf("null!==e&&void 0!==e&&e.length>0")<0)return!0}return t=void 0===t?t:t.replace(/^\/|\/$/g,""),e(this.app.getUrlPath(),t)},this.ruleUrlHash=function(e,t){return void 0===t||e(this.app.getUrlHash(),t)},this.ruleMobile=function(e,t){if(void 0===window.MobileDetect)return!1;var o=new MobileDetect(window.navigator.userAgent);if(this.app.setProp("mobile_checked",!0),e||(e=this.app.operatorDeviceOn),!t)return this.app.isMobile();var i=e.toString(),n=i.indexOf("=== null")>0||i.indexOf("null===")>0;return"desktop"!==t||n?"desktop"===t&&n?this.app.isMobile():"function"==typeof o[t]&&e(o[t]()):!this.app.isMobile()},this.ruleReferrer=function(e,t){return void 0===t||e(this.app.getReferrer(),t)},this.rulePageviews=function(e,t){return void 0===t||e(parseInt(this.app.getSessionPageviews()),parseInt(t))},this.ruleQueryArgKey=function(e,t){if(void 0===t)return!0;var o=this.app.getQueryParameters();return Object.keys(o).map(function(i){return!!e(i,t,o)&&(-1==this.app.passingQueryArgKeys.indexOf(i)&&this.app.passingQueryArgKeys.push(i),!0)}.bind(this)).some(function(e){return e})},this.ruleQueryArgValue=function(e,t){if(void 0===t)return!0;var o=this.app.passingQueryArgKeys;return 0!==o.length&&o.map(function(o){return e(this.app.getQueryArgValue(o),t)}.bind(this)).some(function(e){return e})},this.ruleCookieName=function(e,t){if(void 0===t)return!0;var o=this.app.getCookies();return Object.keys(o).map(function(i){return!!e(i,t,o)&&(-1==this.app.passingCookieNames.indexOf(i)&&this.app.passingCookieNames.push(i),!0)}.bind(this)).some(function(e){return e})},this.ruleCookieValue=function(e,t){if(void 0===t)return!0;var o=this.app.passingCookieNames;return 0!==o.length&&o.map(function(o){return e(this.app.getCookie(o),t)}.bind(this)).some(function(e){return e})},this.ruleCampaignOptin=function(e,t){return null!==this.app.getCookie("om-success-"+t)&&!1===window.OptinMonsterAppSettings.waitNextPageview},this.ruleCampaignNotOptin=function(e,t){return null===this.app.getCookie("om-success-"+t)},this.ruleCampaignClose=function(e,t){return null!==this.app.getCookie("om-"+t)&&null===this.app.getCookie("om-success-"+t)&&!1===window.OptinMonsterAppSettings.waitNextPageview},this.ruleCampaignNotClose=function(e,t){return null===this.app.getCookie("om-"+t)&&null===this.app.getCookie("om-success-"+t)},this.ruleVisitorType=function(e){return e(this.app)},this.ruleDate=function(e,t){return void 0!==window.moment&&e(window.moment(),window.moment(t),"day")},this.ruleTime=function(e,t,o){if(void 0===window.moment)return!1;if(void 0===o||0===o.length)return e(window.moment(),window.moment(t,"h:mma"),"minute");var i=window.moment(),n=window.moment(t,"h:mma");return"function"==typeof n.tz&&(n.tz(o),n.add(i.utcOffset()-n.utcOffset(),"minutes"),e(i,n,"minute"))},this.ruleDay=function(e,t){return void 0!==window.moment&&e(window.moment(),window.moment(t,"e"),"e")},this.ruleMonth=function(e,t){return void 0!==window.moment&&e(window.moment(),window.moment(t,"MMMM"),"month")},this.ruleGeolocation=function(e,t){if(void 0===window.OptinMonsterAppLocation.data)return!1;var o=Object.keys(window.OptinMonsterAppLocation.data),i=Object.keys(t),n=i.filter(function(e){return-1!=o.indexOf(e)});if(0===n.length)return!1;var r=n.map(function(e){return"locality"===e?t[e].longName:t[e].shortName}),s=n.map(function(e){return window.OptinMonsterAppLocation.data[e]});return e(r.join(","),s.join(","))},this.ruleAdblock=function(e,t){return e(this.app)},this.ruleShopifyPage=function(e,t){if(void 0===t){var o=e.toString();if(o.indexOf("value === null || value === undefined || value.length === 0")<0&&o.indexOf("null===a||void 0===a||0===a.length")<0&&o.indexOf("value !== null && value !== undefined && value.length > 0")<0&&o.indexOf("null!==a&&void 0!==a&&a.length>0")<0)return!0}return t=void 0===t?t:t.replace(/^\/|\/$/g,""),e(this.app.getUrlPath(),t)},this.ruleShopifyProduct=function(e,t){if(void 0===t){var o=e.toString();if(o.indexOf("value === null || value === undefined || value.length === 0")<0&&o.indexOf("null===a||void 0===a||0===a.length")<0&&o.indexOf("value !== null && value !== undefined && value.length > 0")<0&&o.indexOf("null!==a&&void 0!==a&&a.length>0")<0)return!0}return t=void 0===t?t:t.replace(/^\/|\/$/g,""),e(this.app.getUrlPath(),t)},this.ruleShopifyCollection=function(e,t){if(void 0===t){var o=e.toString();if(o.indexOf("value === null || value === undefined || value.length === 0")<0&&o.indexOf("null===a||void 0===a||0===a.length")<0&&o.indexOf("value !== null && value !== undefined && value.length > 0")<0&&o.indexOf("null!==a&&void 0!==a&&a.length>0")<0)return!0}return t=void 0===t?t:t.replace(/^\/|\/$/g,""),e(this.app.getUrlPath(),t)},this.ruleShopifyArticle=function(e,t){if(void 0===t){var o=e.toString();if(o.indexOf("value === null || value === undefined || value.length === 0")<0&&o.indexOf("null===a||void 0===a||0===a.length")<0&&o.indexOf("value !== null && value !== undefined && value.length > 0")<0&&o.indexOf("null!==a&&void 0!==a&&a.length>0")<0)return!0}return t=void 0===t?t:t.replace(/^\/|\/$/g,""),e(this.app.getUrlPath(),t)},this.ruleShopifyTag=function(e,t){if(void 0===t){var o=e.toString();if(o.indexOf("value === null || value === undefined || value.length === 0")<0&&o.indexOf("null===a||void 0===a||0===a.length")<0&&o.indexOf("value !== null && value !== undefined && value.length > 0")<0&&o.indexOf("null!==a&&void 0!==a&&a.length>0")<0)return!0}return t=void 0===t?t:t.replace(/^\/|\/$/g,""),e(this.app.getUrlPath(),t)},this.retrieveError=function(e){return function(t,o,i){e.trigger("OptinMonsterRetrieveError"),e.log(t,o,i)}},this.loadPreCheck=function(e){var t=e||!1;if(this.getProp("public"))return!0;if(this.getProp("campaign_status")&&!this.campaignIsActive())return!1;if(!this.websiteMatch())return!1;var o=this.getCookie("om-global-cookie"),i=this.getCookie("om-"+this.getProp("migrated_id")),n=this.getCookie("om-"+this.getProp("id")),r=this.getProp("test"),s=this.getProp("type");if("sidebar"!==this.getProp("type")&&"post"!==this.getProp("type")&&!this.getProp("preview")&&!t){if(!this.cookiesEnabled()&&!r)return!1;if(this.hasInteractionCookie())return!1;if(this.isMobile()&&!this.getProp("mobile")){if("lightbox"==this.getProp("type"))return!1;if("canvas"==this.getProp("type"))return!1;if(!this.getProp("builderv3_saved")&&"full-page-takeover"!==s)return!1}if(!this.isMobile()&&this.getProp("mobile"))return!1;if("mobile"==this.getProp("type")&&!this.isMobile())return!1;if((o||i||n)&&!r&&"slide"!==s)return!1}return this.trigger("OptinMonsterCanLoad"),!0},this.canLoad=function(){if(this.getProp("public"))return!0;if(this.globalHideArg())return this.createCookie("om-global-cookie",1,0==this.getSiteProp("global_cookie")?-1:this.getSiteProp("global_cookie")),this.createCookie("om-interaction-cookie",1,0==this.getSiteProp("global_interaction_cookie")?-1:this.getSiteProp("global_interaction_cookie")),!1;if(!this.websiteMatch())return!1;if(this.getProp("page_slug").length>0&&!this.pageSlugMatch())return!1;if(parseInt(this.getProp("referrer"))>0&&!this.referrerMatch())return!1;if(this.getProp("campaign_status")&&!this.campaignIsActive())return!1;if("sidebar"!==this.getProp("type")&&"post"!==this.getProp("type")&&!this.getProp("preview")&&!this.getProp("click")){if(!this.cookiesEnabled()&&!this.getProp("test"))return!1;if(this.hasInteractionCookie())return!1;var e=this.getCookie("om-global-cookie"),t=this.getCookie("om-"+this.getProp("migrated_id")),o=this.getCookie("om-"+this.getProp("id")),i=this.getProp("second"),n=this.getProp("test"),r=this.getProp("type");if(this.isMobile()&&!this.getProp("mobile")&&"full-page-takeover"!==r)return!1;if(!this.isMobile()&&this.getProp("mobile"))return!1;if("mobile"==this.getProp("type")&&!this.isMobile())return!1;if(i&&!n&&!this.getCookie("om-second-"+this.getProp("id")))return this.createCookie("om-second-"+this.getProp("id"),!0,this.getProp("cookie")),!1;if((e||t||o)&&!n&&"slide"!==r)return!1}return this.trigger("OptinMonsterCanLoad"),!0},this.inject=function(){var e=this;0!==e.getProp("$")("#om-"+e.getProp("optin")+"-holder").length&&(e.replaceCustomVariables(),e.processScripts())},this.processScripts=function(){var e=this,t=e.getProp("$"),o=e.getProp("optin"),i=t.trim(e.getProp("html")),n=(t("#om-"+o+"-holder"),t(i).find("script")),r=(e.getProp("preview"),[]),s=[],a=!1,p=!1;return 0===n.length?e.append():(t.each(n,function(e,t){t.src&&0!==t.src.length?(r[e]=t.src,a=!0):s[e]=t}),a?(e.setProp("processing_scripts",!0),t.each(n,function(e,o){if(o.src&&0!==o.src.length){if(t.inArray(o.src,r)>-1){var n=o.src.replace(/.*?:\/\//g,""),s=t(i).find('script[src*="'+n+'"]').get(0).outerHTML;i=i.replace(s,""),p=!0}}else{var s=t(o).get(0).outerHTML;i=i.replace(s,""),p=!0}}),p&&e.setProp("html",i),void e.append(r,s)):e.append())},this.append=function(e,t){var o=this,i=o.getProp("$"),n=o.getProp("optin"),r=i("#om-"+n+"-holder"),e=e||!1,t=t||!1;o.trigger("OptinMonsterBeforeInject"),o.setVisibilityDefaults(),o.shortcodes(),o.prepareSuccess(),r.append(i.parseHTML(o.getProp("html"),document,!0)),o.trigger("OptinMonsterAfterInject"),e&&o.injectScripts(e,t);var s=o.getProp("processing_scripts"),a=!1;if(s||a){var p;p=o.poll(function(){o.getProp("processing_scripts")||a||(a=!0,o.prepareOutbound(),clearInterval(p))},300)}else o.prepareOutbound()},this.prepareSuccess=function(){var e=this,t=e.getProp("$"),o=e.getProp("namespace"),i=e.getProp("preview"),n=t.trim(e.getProp("html")),r=t(n).find("."+o+"-success-container").html();if(!i&&r&&r.length>0){var s=t("<div />",{html:n});s.find("."+o+"-success-container").empty(),e.setProp("success_html",r),e.setProp("html",s.html())}},this.injectScripts=function(e,t){var o=this,i=o.getProp("$"),t=t||!1;i.when(i.each(e,function(e,t){i.getScript(t)}),i.Deferred(function(e){i(e.resolve)})).done(function(){setTimeout(function(){t&&i.each(t,function(e,t){if(t){var o=document.createElement("script");o.type="text/javascript",o.text=i.trim(i(t).get(0).innerHTML),document.body.appendChild(o)}}),o.setProp("processing_scripts",!1)},500)})},this.prepareOutbound=function(){var e=this;e.outbound(),e.load()},this.outbound=function(){var e=this,t=e.getProp("$"),o=e.getProp("builderv3_saved");t(document).find(".manual-optin-trigger, .om-monster-link").each(function(e,o){var i=t(this),n=i.data("optin-slug");if(n){var r=n.replace("-","_");if(!window.OptinMonsterAppLinkSlugs.hasOwnProperty(r)&&window[r]){if(!window[r].getProp("click"))return;window.OptinMonsterAppLinkSlugs[r]=window[r]}}}),o||t(document).on("click",".manual-optin-trigger, .om-monster-link",function(e){e.preventDefault();var o=t(this),i=o.data("optin-slug");if(i){var n=i.replace("-","_");window.OptinMonsterAppLinkSlugs.hasOwnProperty(n)&&window.OptinMonsterAppLinkSlugs[n].show()}})},this.createMonsterLinkEvent=function(e,t){var o=this,i=o.getProp("$"),n="click."+e+"."+t;i(document).off(n).on(n,".manual-optin-trigger, .om-monster-link",function(e){e.preventDefault();var t=i(this),n=t.data("optin-slug");if(n){var r=n.replace("-","_");window.OptinMonsterAppLinkSlugs.hasOwnProperty(r)&&(o.openedWithMonsterlink=!0,window.OptinMonsterAppLinkSlugs[r].show())}})},this.shortcodes=function(){var e=this,t=this.getProp("original_js"),o=this.getProp("html"),i=this.getProp("$");if(window[t+"_shortcode"]){var n=i(".omapi-shortcode-helper"),r=!1;if(n.length>0){e.setProp("has_shortcodes",!0);var s=o.match(/\[(\[?)(.*?)(?![\w-])([^\]\/]*(?:\/(?!\])[^\]\/]*)*?)(?:(\/)\]|\](?:([^\[]*(?:\[(?!\/\2\])[^\[]*)*)\[\/\2\])?)(\]?)/g);s.length>0&&i.each(n,function(e,t){var n=i(t).text();if(n.length>0&&i.inArray(n,s)>-1){var a=i(t).next("div").html();a.length>0&&n!==a&&(r=!0,o=o.replace(n,a),i(t).next("div").hide())}}),r&&e.setProp("html",o)}}},this.pickRandomKey=function(e){
return Math.floor(Math.random()*e.length)},this.fonts=function(e){var t=this,o=t.getProp("fonts"),e=e||!1,i=!1;if("undefined"==typeof om_load_webfont)if(o.length>0)if(void 0===window.WebFont){var n=document.createElement("script");n.src="//ajax.googleapis.com/ajax/libs/webfont/1.5.18/webfont.js",n.async=!0,n.onload=n.onreadystatechange=function(){var n=this.readyState;if(!n||"complete"==n||"loaded"==n)try{i||(WebFont.load({google:{families:[o]}}),t.trigger("OptinMonsterFontsLoaded"),e?t.inject():t.load(),i=!0)}catch(e){}},(document.getElementsByTagName("head")[0]||document.documentElement).appendChild(n)}else WebFont.load({google:{families:[o]}}),t.trigger("OptinMonsterFontsLoaded"),e?t.inject():t.load();else e?t.inject():t.load();else e?t.inject():t.load()},this.load=function(){var e=this;e.appendHolder()&&(e.sanitize(),e.iehotfix(),e.open())},this.sanitize=function(){var e=this,t=e.getProp("$"),o=t("#om-"+e.getProp("optin")),i=t("#om-"+e.getProp("optin")).find(":submit"),n=i.attr("name"),r=i.attr("id");"submit"==n&&o.find(":submit").attr("name","submit-om"),"submit"==r&&o.find(":submit").attr("id","submit-om")},this.iehotfix=function(){this.isIE()&&(this.loadPlaceholder(),this.doPlaceholder())},this.open=function(e){var t=this,o=t.getProp("exit"),i=t.getProp("click"),n=t.getProp("optin_js"),r="slide"==t.getProp("type")?0:t.getProp("delay"),s=t.getProp("scroll"),a=(t.getProp("$"),!1),e=e||!1,p=!!t.getProp("builderv3_saved");p&&(i=!1),window.OptinMonsterAppOptins.hasOwnProperty(n)&&!0===window.OptinMonsterAppOptins[n].visible||((e||o)&&(r=0),p&&(r=0),i&&!e||setTimeout(function(){if(t.trigger("OptinMonsterLoaded"),!o||i||e)if(s&&!p||t.getProp("slide_scroll")){var n;n=t.poll(function(){if(!a){t.getScrollPercentage()>=s&&(t.normalOpen(),a=!0,clearInterval(n))}},100)}else t.normalOpen();else p?t.normalOpen():t.exitOpen()},r||0))},this.createExitEvent=function(e,t){var o=this,i=o.getProp("$"),n=o.getProp("type"),r=!1,s="mouseleave."+e+"."+t;"mobile"!=n&&(o.globalHideArg()||i(document).off(s).on(s,function(t){t.clientY>(o.getProp("exit_sensitivity")||20)||o.getCookie("om-"+o.getProp("id"))||o.getCookie("om-global-cookie")||o.getProp("om-interaction-cookie")||window.OptinMonsterAppOptins.hasOwnProperty(e)&&!0===window.OptinMonsterAppOptins[e].visible||r||t.offsetX<-1||(r=!0,o.show(!0))}))},this.destroyExitEvent=function(e,t){var o=this,i=o.getProp("$"),n="mouseleave."+e+"."+t;i(document).off(n)},this.exitOpen=function(){var e=this,t=e.getProp("$"),o=e.getProp("optin_js"),i=!1;e.getProp("exitRegistered")||(e.setProp("exitRegistered",!0),t(document).on("mouseleave",function(t){if(!e.getProp("exit"))return!1;t.clientY>(e.getProp("exit_sensitivity")||20)||e.getCookie("om-"+e.getProp("id"))||e.getCookie("om-global-cookie")||e.getProp("om-interaction-cookie")||window.OptinMonsterAppOptins.hasOwnProperty(o)&&!0===window.OptinMonsterAppOptins[o].visible||i||(i=!0,e.show(!0))}))},this.normalOpen=function(){var e=!!this.getProp("builderv3_saved"),t=this.getProp("forceShow");e&&!t||this.show()},this.show=function(e){var t=this,o=t.getProp("$"),i=t.getProp("id"),n=t.getProp("optin"),r=t.getProp("optin_js"),s=t.getProp("type"),a=(t.getProp("theme"),t.getProp("preview")),p=o("#om-"+n),l=!!t.getProp("builderv3_saved"),e=e||!1;if((!window.OptinMonsterAppOptins.hasOwnProperty(r)||!0!==window.OptinMonsterAppOptins[r].visible)&&(!t.getCookie("om-global-cookie")||t.getProp("click")||t.openedWithMonsterlink||a||"sidebar"===s||"post"===s)&&(!t.getCookie("om-interaction-cookie")||t.getProp("click")||t.openedWithMonsterlink||a||"sidebar"===s||"post"===s)){if(!l&&"full-page-takeover"==s&&t.isMobile()){var c=!1;if(o.each(window.OptinMonsterAppOptins,function(e,t){t.hasOwnProperty("type")&&"mobile"==t.type&&(c=!0)}),c&&!t.openedWithMonsterlink)return}if(("slide"!=s||!t.isMobile()||t.openedWithMonsterlink||t.getProp("mobile_checked"))&&("post"!=s||!t.getProp("content_lock")||t.canLockContent())&&!t.getProp("processing_scripts")){if(t.smartSuccess(),t.trigger("OptinMonsterBeforeShow"),t.poweredBy(),t.maybeReloadIframes(),"footer"==s&&t.isMobile()&&t.fixMobilePosition(),e){if(t.isPageSlide(s)){if(!t.hasVisiblePopup()&&!window.OptinMonsterAppPopupLoaded){window.OptinMonsterAppPopupLoaded=!0;var u=o(window).height(),d=u;t.oPageSlidePadding=o("body").css("paddingTop"),t.resizePageSlide(!0),window.OptinMonsterAppOptins[t.getProp("optin_js")].visible=!0,t.trigger("OptinMonsterOnShow"),o(window).scroll(function(){t.hasVisiblePopup()&&(u=o(window).height(),d=u,p.find("div").first().height()>u&&(d=p.find("div").first().height()+55),o(document).scrollTop()>d&&(t.animatePageSlide=!1,t.close(!0)))}),o(window).resize(function(){t.hasVisiblePopup()&&t.resizePageSlide()})}}else if(t.isPopup(s))t.hasVisiblePopup()||window.OptinMonsterAppPopupLoaded||(window.OptinMonsterAppPopupLoaded=!0,p.show().css("display","block"),p.find("div").first().show().css("display","block"),t.positionOptin(),window.OptinMonsterAppOptins[t.getProp("optin_js")].visible=!0,t.trigger("OptinMonsterOnShow"),t.socialServices());else if("footer"==s||"slide"==s){if("footer"===s&&t.hasVisiblePopup())return;if(!t.getCookie("om-"+i+"-closed")){p.find("div").first().show().css("display","block");var g=p.outerHeight(),h=t.getProp("position")?t.getProp("position"):"bottom",m={};if(g instanceof jQuery&&(g=p.outerHeight(!1)),m[h]=0,p.css(h,"-"+g+"px").show().stop().animate(m,300,function(){"footer"==s&&(window.OptinMonsterAppOptins[t.getProp("optin_js")].visible=!0),"slide"==s&&t.slideHandlers(!0),t.trigger("OptinMonsterOnShow"),t.socialServices(),"footer"==s&&t.positionFloatingBar()}),"footer"==s){var f="top"==h?{paddingTop:g}:{paddingBottom:g};o("html").animate(f,300)}}}}else if(t.isPageSlide(s)){if(!t.hasVisiblePopup()&&!window.OptinMonsterAppPopupLoaded){window.OptinMonsterAppPopupLoaded=!0;var u=o(window).height(),d=u;t.oPageSlidePadding=o("body").css("paddingTop"),t.resizePageSlide(!0,!0),window.OptinMonsterAppOptins[t.getProp("optin_js")].visible=!0,t.trigger("OptinMonsterOnShow"),o(window).scroll(function(){t.hasVisiblePopup()&&(u=o(window).height(),d=u,p.find("div").first().height()>u&&(d=p.find("div").first().height()+55),o(document).scrollTop()>d&&(t.animatePageSlide=!1,t.close(!0)))}),o(window).resize(function(){t.hasVisiblePopup()&&t.resizePageSlide()})}}else if(t.isPopup(s))t.hasVisiblePopup()||window.OptinMonsterAppPopupLoaded||(window.OptinMonsterAppPopupLoaded=!0,p.fadeIn(300,function(){if("mobile"==s&&(a||t.fixMobileScaling()),o(this).find("div").first().show().css("display","block"),t.positionOptin(),window.OptinMonsterAppOptins[t.getProp("optin_js")].visible=!0,"lightbox"===t.getProp("type")){o(this).find("div").first().attr("role","main").attr("aria-live","polite"),o(this).find("div[id$='element-title-content']").first().attr("tabindex",0).focus();var e=1;o(this).find("button:visible,input:visible,select:visible,textarea:visible").filter(function(){return o(this).width()>1&&void 0!==o(this).attr("id")}).each(function(t){o(this).attr("aria-live","polite"),o(this).attr("tabindex",e++)})}t.trigger("OptinMonsterOnShow"),t.socialServices()}));else if("footer"==s||"slide"==s){if("footer"===s&&t.hasVisiblePopup())return;if(!t.getCookie("om-"+i+"-closed")||a){p.find("div").first().show().css("display","block");var g=p.outerHeight(),h=t.getProp("position")?t.getProp("position"):"bottom",m={};if(g instanceof jQuery&&(g=p.outerHeight(!1)),m[h]=0,p.css(h,"-"+g+"px").show().stop().animate(m,300,function(){"footer"==s&&(window.OptinMonsterAppOptins[t.getProp("optin_js")].visible=!0),"slide"==s&&t.slideHandlers(),t.trigger("OptinMonsterOnShow"),t.socialServices(),"footer"==s&&t.positionFloatingBar()}),"footer"==s){var f="top"==h?{paddingTop:g}:{paddingBottom:g};o("html").animate(f,300)}}}else p.show().css("display","block"),window.OptinMonsterAppOptins[t.getProp("optin_js")].visible=!0,t.trigger("OptinMonsterOnShow"),t.socialServices();t.customize(),t.enter(),t.submit(),t.close(),t.yesNoActions(),t.outputDebug(),window.OptinMonsterAppSettings.waitNextPageview=!0,setTimeout(function(){t.track()},1e3)}}},this.resizePageSlide=function(e,t){var o=this,i=o.getProp("$"),n=o.getProp("namespace"),r=o.getProp("optin"),s=o.getProp("preview"),a=i("#om-"+r),p=i(window).height(),l=p,c=s?i("#optin-monster-preview").width():i(window).width();a.css("overflow");window.innerHeight!==i(window).outerHeight()&&(l=p+=15),a.show(),a.find("div").first().height()>p&&(l=a.find("div").first().height()+55),this.getProp("preview")||(i("body").css("paddingTop",l),a.css("position","absolute").height(l).width(c)),a.find("div").first().show().css("display","block"),o.positionOptin(),i("."+n+"-element-image-background",a).height(l),a.find("div").first().height()>=p&&i("#"+n+"-optin").css("top",0).css("margin",0),e&&(t?(i("body").scrollTop(l),i("body").animate({scrollTop:0},"slow")):i("body").scrollTop(0))},this.smartSuccess=function(){var e=this,t=(e.getProp("namespace"),e.getProp("id"),e.getCookie("om-success-cookie")),o=e.getProp("type"),i=e.getProp("custom"),n=e.getProp("success"),r=n&&n.hasOwnProperty("action"),s=n&&n.hasOwnProperty("smart")&&n.smart;r&&"message"===n.action&&s&&(i||"sidebar"!==o&&"post"!==o||t&&e.successMessage())},this.yesNoActions=function(){var e=this,t=this.getProp("$"),o=this.getProp("optin"),i=this.getProp("namespace");this.getProp("yesno")&&t(document).on("click","#om-"+o+" ."+i+"-button-yesno, #om-"+o+" ."+i+"-yesno-button-yesno",function(n){var r=t(this),s=r.attr("data-action"),a=r.attr("data-type");if(s||a)switch(s){case"form":if("default"==e.getProp("yesno_theme")){var p=t("."+i+"-yesno-wrap"),l=t("."+i+"-form-wrap");p.hide(),t("#om-"+o).removeClass(i+"-yesno-active"),l.show().find("input").first().focus(),e.positionOptin()}else{var p=t("."+i+"-yesno-container"),l=t("."+i+"-body");p.addClass(i+"-transition-hidden"),t("#om-"+o).removeClass(i+"-yesno-active"),l.removeClass(i+"-transition-hidden").find("input").first().focus(),t("#om-"+o).removeClass(i+"-yesno-visible "+i+"-success-visible").addClass(i+"-optin-visible"),e.positionOptin()}break;case"redirect":"yes"==a?(e.track(!0),e.cleanup(!0)):e.cleanup();var c="yes"==a?e.getProp("yes_redirect"):e.getProp("no_redirect");c=c.replace(new RegExp("&amp;","g"),"&"),c=c.replace(new RegExp("&#038;","g"),"&"),setTimeout(function(){window.location.href=c},500);break;case"refresh":"yes"==a?(e.track(!0),e.cleanup(!0)):e.cleanup(),setTimeout(function(){window.location.reload()},500);break;case"close":"yes"==a?(e.track(!0),e.cleanup(!0)):e.cleanup(),e.close(!0)}})},this.poweredBy=function(){var e=this,t=this.getProp("type"),o=this.getProp("optin"),i=this.getProp("namespace"),n=this.getProp("$"),r=this.getSiteProp("affiliate_link_position")||"under",s=n("#om-"+o+" .optin-monster-saas-powered-by, #om-"+o+" ."+i+"-powered-by");e.getProp("preview");e.isPopup(t)||(r="under"),"under"==r?e.isPopup(t)?s.appendTo(n("#om-"+o).find("div").first()).css({position:"absolute",bottom:"-28px",width:"100%"}):s.appendTo(n("#om-"+o).find("div").first()).css({position:"relative",marginTop:"20px",marginBottom:"20px",width:"100%"}):s.appendTo(n("#om-"+o)).css({position:"absolute",left:20,bottom:20})},this.maybeReloadIframes=function(){var e=this.getProp("optin"),t=this.getProp("$"),o=this.getProp("removed_iframes");o&&t.each(o,function(o,i){var n=t("#om-"+e).find('[data-src="'+o+'"]');n.length>0&&t(n).replaceWith(i)})},this.fixMobileScaling=function(){var e=this,t=(this.getProp("type"),this.getProp("optin"),this.getProp("namespace")),o=!!e.getProp("builderv3_saved"),i=this.getProp("$");if(!(i('meta[name="viewport"]').length>0)){var n=o?t+"-viewport":t+"saas-viewport";i("head").append('<meta id="'+n+'" name="viewport" content="width=device-width, initial-scale=1.0">'),i("html, body").css("overflow","hidden")}},this.fixMobilePosition=function(){var e=this,t=e.getProp("$"),o=e.getProp("optin"),i=t(window).scrollTop(),n=t("body").css("position"),r=t("html").css("position");t(document).on("focus","#om-"+o+" input[type=text], #om-"+o+" input[type=email]",function(e){t("html,body").css("position","fixed"),t("body").scrollTop(i)}),t(document).on("blur","#om-"+o+" input[type=text], #om-"+o+" input[type=email]",function(e){t("html").css("position",r),t("body").css("position",n)})},this.positionOptin=function(){var e=this,t=e.getProp("$"),o=(e.getProp("id"),e.getProp("namespace")),i=e.getProp("optin"),n=e.getProp("optin_js"),r=e.getProp("type"),s=(e.getProp("theme"),e.getProp("preview")),a=t("#om-"+i).find("div").first(),p=a.width(),l=a.height(),c=s?t("#optin-monster-preview").height():t(window).height(),u=s?t("#optin-monster-preview").width():t(window).width(),d=(c-l)/2,g=e.getProp("powered_by"),h=e.getSiteProp("affiliate_link_position")||"under",m=t("#om-"+i+" .optin-monster-saas-powered-by, #om-"+i+" ."+o+"-powered-by"),f=e.getProp("animated")?200:0;e.isPopup(r)&&(l>=c?(e.isPageSlide(r)?t("#om-"+i).css({overflowY:"hidden"}):t("#om-"+i).css({overflowY:"scroll"}),t(a,"#om-"+i+" .optin-monster-saas-success-overlay").css({position:"absolute"}).animate({top:20,left:(u-p)/2,marginBottom:s?70:20},{queue:!1,duration:f}),g&&("under"==h?t(a,"#om-"+i+" .optin-monster-saas-success-overlay").animate({marginBottom:m.height()+30},{queue:!1,duration:f}):m.hide())):(e.isPageSlide(r)?t("#om-"+i).css({overflowY:"hidden"}):t("#om-"+i).css({overflow:"auto"}),t(a,"#om-"+i+" .optin-monster-saas-success-overlay").animate({top:d,left:(u-p)/2,marginBottom:0},{queue:!1,duration:f}),g&&("under"==h?t(a,"#om-"+i+" .optin-monster-saas-success-overlay").animate({marginBottom:0},{queue:!1,duration:f}):m.show())),t(window).on("resize.positionOptin"+n,function(){clearTimeout(e.resizeTimer),e.resizeTimer=setTimeout(function(){e.positionOptin()},50)}),e.setProp("animated",!0),e.trigger("OptinMonsterPositionOptin"))},this.positionFloatingBar=function(){var e=this,t=e.getProp("$"),o=e.getProp("optin"),i=e.getProp("optin_js"),n=t("#om-"+o),r=e.getProp("position");t(window).on("resize.positionFloatingBar"+i,function(){clearTimeout(e.resizeTimer),e.resizeTimer=setTimeout(function(){var e=n.height();"top"==r?t("html").animate({paddingTop:e},{queue:!1,duration:300}):t("html").animate({paddingBottom:e},{queue:!1,duration:300})},50)})},this.slideHandlers=function(e){var t=this,o=t.getProp("$"),i=(t.getProp("id"),t.getProp("optin")),n=t.getProp("namespace"),r=(t.getProp("type"),t.getProp("theme")),s=t.getProp("preview"),a=o("#om-"+i),p=t.getProp("slide_toggle"),l=!!t.getProp("builderv3_saved"),c="#om-"+i+" .om-slide-close-content, #om-"+i+" ."+n+"-slide-close-content, #om-"+i+" .om-close, #om-"+i+" ."+n+"-close",u="#om-"+i+" .om-slide-open-content, #om-"+i+" ."+n+"-slide-open-content",e=e||!1;t.getProp("slide_loaded");if(s||(c=c+", #om-"+i+" #om-slide-"+r+"-optin-title-open, #om-"+i+" ."+n+"-element-title-open",u=u+", #om-"+i+" #om-slide-"+r+"-optin-title-closed, #om-"+i+" ."+n+"-element-title-closed"),o(document).on("click.closeOptin",c,function(e){e.target===this&&(s&&(o(e.target).hasClass("om-close")||o(e.target).hasClass(n+"-close"))||(e.preventDefault(),t.trigger("OptinMonsterBeforeClose"),a.find("div").first().removeClass("om-slide-open "+n+"-slide-open").addClass("om-slide-closed "+n+"-slide-closed"),("canvas"==r||l&&!p)&&a.hide(),a.find(".optin-monster-saas-success-overlay").remove(),t.cleanup()))}),o(document).on("click.openOptin",u,function(e){e.target===this&&(e.preventDefault(),t.trigger("OptinMonsterBeforeShow"),a.find("div").first().removeClass("om-slide-closed "+n+"-slide-closed").addClass("om-slide-open "+n+"-slide-open"),t.setProp("slide_open",!0),t.adjustSlidePosition(),t.trigger("OptinMonsterOnShow"))}),e)t.showSlide();else{var d=0;if(t.getProp("automatic_toggle")||0===t.getProp("automatic_toggle")?d=s?1:1e3*t.getProp("automatic_toggle"):t.getProp("delay")&&(d=s?1:t.getProp("delay")),0===d)return;setTimeout(function(){t.showSlide()},d)}},this.showSlide=function(){var e=this,t=e.getProp("$"),o=e.getProp("id"),i=e.getProp("optin"),n=(e.getProp("type"),e.getProp("theme"),e.getProp("namespace")),r=t("#om-"+i);(!e.getCookie("om-"+o)&&!e.getProp("slide_open")||e.getProp("preview"))&&(r.find("div").first().removeClass("om-slide-closed "+n+"-slide-closed").addClass("om-slide-open "+n+"-slide-open"),e.setProp("slide_open",!0),window.OptinMonsterAppOptins[e.getProp("optin_js")].visible=!0,e.adjustSlidePosition())},this.adjustSlidePosition=function(){var e=this,t=e.getProp("$"),o=(e.getProp("id"),e.getProp("optin")),i=(e.getProp("optin_js"),e.getProp("preview")),n=t("#om-"+o);n.height(),i?t("#optin-monster-preview").height():t(window).height()},this.customize=function(){var e=this,t=e.getProp("$"),o=e.getProp("optin"),i=e.getProp("namespace"),n=e.getProp("type"),r=e.getProp("theme");t(document).on("click.omCustomConversion","#om-"+o+" .om-trigger-conversion, #om-"+o+" ."+i+"-trigger-conversion",function(i){if(!t(i.target).is("input")||"canvas"===n||!t(i.target).is("input")||"canvas"===r){e.trigger("OptinMonsterOptinSuccess");var s=e.getProp("success_code");s&&t("#om-"+o).append(s),e.getProp("ga_uaid")?e.track(!0):e.cleanup(!0),setTimeout(function(){return!0},500)}}),t(document).on("copy.omCustomCopyConversion","#om-"+o+" .om-trigger-copy-conversion, #om-"+o+" ."+i+"-trigger-copy-conversion",function(i){var n=e.getProp("success_code");n&&t("#om-"+o).append(n),e.getProp("ga_uaid")?e.track(!0):e.cleanup(!0),setTimeout(function(){return!0},500)}),e.canLockContent()&&e.lockContent(),e.trigger("OptinMonsterOnCustomize")},this.canLockContent=function(){return"post"==this.getProp("type")&&(!!this.getProp("content_lock")&&(!this.globalHideArg()&&(!this.getCookie("om-global-cookie")&&!this.getCookie("om-success-cookie"))))},this.lockContent=function(){var e=this,t=e.getProp("$"),o=e.getProp("optin"),i=e.getProp("namespace");if("remove"==(this.isIe11()?"remove":e.getProp("content_lock_method"))){var n=t("#om-"+o+"-holder").nextAll(),r=n.clone();e.setProp("lock_cloned",r),n.remove()}else t("#om-"+o+"-holder").nextAll().each(function(){t(this).addClass(i+"-content-lock")})},this.unlockContent=function(){var e=this,t=e.getProp("$"),o=e.getProp("optin"),i=e.getProp("namespace");if("remove"==(this.isIe11()?"remove":e.getProp("content_lock_method"))){var n=e.getProp("lock_cloned");t("#om-"+o+"-holder").after(n)}else t("#om-"+o+"-holder").nextAll().each(function(){t(this).removeClass(i+"-content-lock")})},this.enter=function(){var e=this,t=e.getProp("$"),o=e.getProp("optin"),i=e.getProp("namespace"),n=e.getProp("type"),r=e.getProp("theme");e.getProp("preview")||t(document).on("keypress.omEnter",function(e){var s=!0;"lightbox"!==n&&"full-page-takeover"!==n&&(s=t(":focus").closest("."+i+"-"+o).length),13===e.which&&s&&t("#om-"+o+" #om-"+n+"-"+r+"-optin-submit, #om-"+o+" ."+i+"-field-submit").trigger("click.doOptin")})},this.submit=function(){var e=this,t=e.getProp("$"),o=e.getProp("optin"),i=e.getProp("namespace"),n=e.getProp("type"),r=e.getProp("theme"),s=e.getProp("custom"),a=(t("#om-"+o),e.getProp("submitted")||!1);if(!e.getProp("preview")&&!a)if(s){var p=!1;t(document).on("submit.doCustomOptin","#om-"+o+" .om-custom-html-form form, #om-"+o+" ."+i+"-custom-html-form form",function(i){if(!p){e.trigger("OptinMonsterBeforeOptin"),e.trigger("OptinMonsterOptinSuccess");var n=e.getProp("success_code");return n&&t("#om-"+o).append(n),e.getProp("ga_uaid")?e.track(!0):e.cleanup(!0),p=!0,!0}})}else e.setProp("om_submitting",!1),t(document).on("click.doOptin","#om-"+o+" #om-"+n+"-"+r+"-optin-submit, #om-"+o+" ."+i+"-field-submit",function(t){e.getProp("om_submitting")||(e.setProp("om_submitting",!0),t.preventDefault(),e.trigger("OptinMonsterBeforeOptin"),e.optin(t.target))})},this.close=function(e){var t=this,o=t.getProp("$"),i=t.getProp("optin"),n=t.getProp("type"),r=t.getProp("namespace"),s=o("#om-"+i),e=(t.getProp("custom"),e||!1);if(!t.getProp("preview"))if(e){if(t.isPageSlide(n))if(t.animatePageSlide){var a=o(window).height(),p=a;s.find("div").first().height()>a&&(p=s.find("div").first().height()+55),o("body").animate({scrollTop:p},"slow",function(){s.hide(0,t.onClose(t)),o("body").css("paddingTop",t.oPageSlidePadding).scrollTop(0)})}else s.hide(0,t.onClose(t)),o("body").css("paddingTop",t.oPageSlidePadding).scrollTop(0),t.animatePageSlide=!0;else if(t.isPopup(n))s.fadeOut(300,t.onClose(t));else if("footer"==n||"slide"==n){var l=t.getProp("position")?t.getProp("position"):"bottom",c={},p=t.computeOuterHeight();c[l]="-"+p+"px",s.stop().animate(c,300,t.onClose(t)),"top"==t.getProp("position")?o("html").stop().animate({paddingTop:0},300):o("html").stop().animate({paddingBottom:0},300)}}else o(document).on("click.closeOptin","#om-"+i+" .om-close, #om-"+i+" ."+r+"-close, #om-"+i+".optin-monster-saas-overlay, #om-"+i+"."+r+"-background, #om-"+i+" .om-trigger-close, #om-"+i+" ."+r+"-trigger-close, ."+r+"-success-close, #om-"+i+" ."+r+"-yesno-close, #om-"+i+" ."+r+"-yesno-close-wrap, #om-"+i+" ."+r+"-success-background",function(e){t.triggerClose(e,this)}),o(document).on("keyup",function(e){27!=e.keyCode||"lightbox"!==n&&"full-page-takeover"!==n&&"canvas"!==n||t.triggerClose(e,this)})},this.triggerClose=function(e,t){var o=this,i=o.getProp("$"),n=o.getProp("optin"),r=o.getProp("type"),s=o.getProp("namespace"),a=i("#om-"+n),p=o.getProp("custom");if(!(void 0===e.keyCode&&e.target!==t||"mobile"==r&&i(e.target).hasClass("optin-monster-saas-overlay")||"mobile"==r&&i(e.target).hasClass(s+"-background")||"full-page-takover"==r&&i(e.target).hasClass("optin-monster-saas-overlay")||"full-page-takover"==r&&i(e.target).hasClass(s+"-background"))){if(p||0!=r||"submit"!=e.type||e.preventDefault(),o.trigger("OptinMonsterBeforeClose"),o.isPageSlide(r)){var l=i(window).height(),c=l;a.find("div").first().height()>l&&(c=a.find("div").first().height()+55),i("body").animate({scrollTop:c},"slow",function(){a.hide(0,o.onClose(o)),i("body").css("paddingTop",o.oPageSlidePadding).scrollTop(0)})}else if(o.isPopup(r))a.fadeOut(300,o.onClose(o));else if("footer"==r){var u=o.getProp("position")?o.getProp("position"):"bottom",d={},c=o.computeOuterHeight();d[u]="-"+c+"px",a.stop().animate(d,300,o.onClose(o)),"top"==o.getProp("position")?i("html").stop().animate({paddingTop:0},300):i("html").stop().animate({paddingBottom:0},300)}"slide"==r&&a.fadeOut(300,o.onClose(o))}},this.computeOuterHeight=function(){var e=this,t=e.getProp("$"),o=e.getProp("optin"),i=t("#om-"+o),n=i.outerHeight();return n instanceof jQuery&&(n=i.outerHeight(!1)),i.find("*:visible").each(function(){t(this).outerHeight()>n&&(n=t(this).outerHeight())instanceof jQuery&&(n=i.outerHeight(!1))}),n},this.onClose=function(e){return function(){var t=e.getProp("$"),o=e.getProp("type"),i=e.getProp("optin"),n=e.getProp("optin_js"),r=e.getProp("namespace"),s=!!e.getProp("builderv3_saved");if(e.cleanup(),"mobile"==o){var t=e.getProp("$"),a=Math.max(document.documentElement.clientWidth,window.innerWidth||0),p=e.getProp("dw"),l=Math.round(a/p*100)/100;if(t("#"+r+"saas-viewport").length>0){var c=s?r+"-viewport":r+"saas-viewport";t("#"+c).attr("content","width=device-width, initial-scale="+l+", minimum-scale="+l+", maximum-scale="+l),t("html, body").css("overflow","auto"),setTimeout(function(){t("#"+c).attr("content","width=device-width, maximum-scale=10.0")},0)}t("#om-"+i+"-overlay, #om-"+i+"."+r+"-background").hide()}e.isPopup(o)&&t(window).off("resize.omOptin"+e.getProp("optin_js")),t(window).off("resize.positionOptin"+n),t(window).off("resize.positionFloatingBar"+n);var u=e.getProp("removed_iframes");u||(u={}),t("#om-"+i).find("iframe").each(function(e,o){u[t(o).attr("src")]=t(o),t(o).replaceWith('<div id="om-'+i+'-iframe-placeholder" data-src="'+t(o).attr("src")+'" />')}),t.isEmptyObject(u)||e.setProp("removed_iframes",u),e.openedWithMonsterlink=!1,e.trigger("OptinMonsterOnClose")}},this.cleanup=function(e){var t=this,o=t.getProp("$"),i=t.getProp("id"),n=t.getProp("type"),r=t.getSiteProp("global_cookie"),s=t.getSiteProp("global_interaction_cookie"),a=!!t.getProp("builderv3_saved"),p=e||!1;if(window.OptinMonsterAppOptins[t.getProp("optin_js")].visible=!1,t.isPopup(n)&&(window.OptinMonsterAppPopupLoaded=!1),o(document).off("keypress.omEnter"),p&&t.setProp("submitted",!0),p){var l=!1!==t.getProp("cookie_success")?t.getProp("cookie_success"):t.getProp("cookie"),c=t.getProp("success"),u=c&&c.hasOwnProperty("smart")&&c.smart;"post"!==n&&"sidebar"!==n||!u||(l=365),t.createCookie("om-"+i,!0,l,t.getProp("cookie_cross_domain")),t.createCookie("om-success-"+i,!0,l,t.getProp("cookie_cross_domain")),t.createCookie("om-success-cookie",!0,l,t.getProp("cookie_cross_domain")),t.unlockContent()}else{if(0===t.getProp("cookie"))return;t.createCookie("om-"+i,!0,t.getProp("cookie"),t.getProp("cookie_cross_domain"))}t.getProp("migrated_id")&&t.createCookie("om-"+t.getProp("migrated_id"),!0,t.getProp("cookie")),t.getProp("clones")&&o.each(t.getProp("clones"),function(e,o){if(0!==o.length){var i=!1!==t.getProp("cookie_success")&&p?t.getProp("cookie_success"):t.getProp("cookie");0!==i&&(t.createCookie("om-"+o,!0,i,t.getProp("cookie_cross_domain")),p&&t.createCookie("om-success-"+o,!0,i,t.getProp("cookie_cross_domain")),t.maybeSetSlideClosedCookie(t,o,p,a))}}),0!=r&&p&&t.createCookie("om-global-cookie",!0,r),0==s||p||t.createCookie("om-interaction-cookie",!0,s),t.maybeSetSlideClosedCookie(t,i,p,a),t.trigger("OptinMonsterCleanup")},this.maybeSetSlideClosedCookie=function(e,t,o,i){(o&&"slide"==e.getProp("type")||!o&&"slide"==e.getProp("type")&&"canvas"==e.getProp("theme"))&&e.createCookie("om-"+t+"-closed",!0,e.getProp("cookie")),i&&(o||"slide"!=e.getProp("type")||e.getProp("slide_toggle")||e.createCookie("om-"+t+"-closed",!0,e.getProp("cookie")))},this.track=function(e){if(!this.getProp("preview")){if(this.getProp("campaign_status")&&!this.campaignIsActive())return!1;var t=this,o=t.getProp("ga_uaid"),e=e||!1;if(!this.isHolderSet(t.getProp("optin")))return!1;var i=e?"tracked":"impression_tracked";if(!t.getProp(i)){if(!o)return void t.log("[OptinMonster] No analytics profile has been set for this campaign. Please set a profile to track analytics.");t.trackGoogleAnalytics(o,e),t.trigger("OptinMonsterTracked")}}},this.trackGoogleAnalytics=function(e,t){var o=this,i=o.getProp("$"),n=o.getProp("optin"),r=t?"conversion":"impression",s=o.getProp("campaign")||o.getProp("optin"),s=s.toString().replace(/\s\s+/g," "),a=n.replace("-",""),p=!1,l=!1;if(void 0!==window.__gaTracker&&window.__gaTracker.hasOwnProperty("getAll")?l=window.__gaTracker:void 0!==window.gaTracker&&window.gaTracker.hasOwnProperty("getAll")?l=window.gaTracker:void 0!==window.__omGaTracker&&window.__omGaTracker.hasOwnProperty("getAll")?l=window.__omGaTracker:void 0!==window.ga&&window.ga.hasOwnProperty("getAll")&&(l=window.ga),l){o.setProp("ga_object",l),o.getProp("ga_custom_id")&&(e=o.getProp("ga_custom_id"));var c=l.getAll();if(i.each(c,function(t,o){if(o.get("trackingId")==e)return p=o,!1}),p||(l("create",e,"auto","omTracker"+a),l.hasOwnProperty("getByName")&&(p=l.getByName("omTracker"+a))),!p)return o.log("OptinMonster could not record analytics for "+s+" because no analytics tracker could be created or retrieved. Contact support for more details."),setTimeout(function(){o.trackGoogleAnalytics(e,t)},500);p.send("event",s,r,o.getProp("id").toString(),{nonInteraction:!0,_r:0}),"impression"==r?(o.addMessage("Impression tracked to "+e),o.trigger("OptinMonsterTrackedImpression"),o.setProp("impression_tracked",!0)):(o.addMessage("Conversion tracked to "+e),o.trigger("OptinMonsterTrackedConversion"),o.setProp("tracked",!0),o.cleanup(!0))}},this.optin=function(e){var t=this,o=t.getProp("$"),i=t.getProp("optin"),n=t.getProp("namespace"),r=!!t.getProp("builderv3_saved"),s=r?o("#om-"+i+" ."+n+"-field-name").val():o("#om-"+i+" #om-"+t.getProp("type")+"-"+t.getProp("theme")+"-optin-name").val(),a=r?o("#om-"+i+" ."+n+"-field-email").val():o("#om-"+i+" #om-"+t.getProp("type")+"-"+t.getProp("theme")+"-optin-email").val(),p=o("#om-"+i+" ."+n+"-field-phone").val(),l=o("#om-"+i+" ."+n+"-field-comments").val();if(t.getProp("preview"))return void t.setProp("om_submitting",!1);t.setProp("convert_target",e),t.loading(e);var c={optin_id:t.getProp("id"),post_id:t.getProp("post_id"),referrer:window.location.href,user_agent:navigator.userAgent,previous:document.referrer,email:a,name:s,phone:p,honey:l},u=t.getProp("api_convert")+t.getProp("id"),d=!1,g=!1;c.email=o.trim(c.email),c.name=o.trim(c.name),c.phone=o.trim(c.phone);var h=o("#om-"+i).find(":input"),m={};o.each(h,function(e,t){var i=o(this).attr("name"),n=o(this).attr("type");if(i)switch(n){case"checkbox":case"radio":if(!o(this).is(":checked"))return;if(m[i])if(o.isPlainObject(m[i]))m[i][e]=o.trim(o(this).val());else{var r=m[i];m[i]={},m[i][e-1]=r,m[i][e]=o.trim(o(this).val())}else m[i]=o.trim(o(this).val());break;default:m[i]=o.trim(o(this).val())}}),o.isEmptyObject(m)||(c.fields=m);var f=t.getCookie("_mkto_trk");f&&(c.mkto=f),t.getCookie("hubspotutk")&&(c.hutk=t.getCookie("hubspotutk"));var g=t.verify();if(g)return t.error(e,g);d=t.optinSuccess(t,e),g=t.optinError(t,e),t.addMessage("Lead name: "+c.name),t.addMessage("Lead email: "+c.email),t.addMessage("Lead phone: "+c.phone),t.setProp("optin_data",c),t.trigger("OptinMonsterPreOptin"),t.requestCORS(u,t.getProp("optin_data"),d,g)},this.error=function(e,t){var o=this,i=o.getProp("$"),n=i(e),r=(o.getProp("optin"),o.getProp("namespace")),s=!!o.getProp("builderv3_saved");o.setProp("om_submitting",!1),o.removeLoading(e);var a=s?r+"-error":r+"saas-error";n.parent().append('<p class="'+a+'" style="font-family:Georgia;font-size:13px;font-style:italic;color:#ff0000;margin:10px 0;text-align:center;line-height:18px;">'+t+"</p>"),o.addMessage("Optin error: "+t),o.trigger("OptinMonsterOnError")},this.loading=function(e){var t=this,o=t.getProp("$"),i=o(e),n=i.position(),r=parseInt(i.css("marginTop")),s=parseInt(i.css("marginLeft")),a=i.outerWidth(),p=i.outerHeight(),l=t.getProp("namespace"),c=!!t.getProp("builderv3_saved");a instanceof jQuery&&(a=i.outerWidth(!1)),p instanceof jQuery&&(p=i.outerHeight(!1));var u=c?l+"-error":l+"saas-error";o("#om-"+t.getProp("optin")).find("."+u).remove();var d=c?l+"-loading":l+"saas-loading";i.after('<span class="'+d+'"></span>').css("opacity",".25"),o("#om-"+t.getProp("optin")).find("."+d).css({width:a,height:p,top:n.top+r,left:n.left+s,background:"url("+t.getProp("preloader")+") no-repeat 50% 50%",position:"absolute",zIndex:84736365452,backgroundSize:"20px"})},this.verify=function(){var e=this,t=e.getProp("$"),o=e.getProp("optin"),i=(e.getProp("type"),e.getProp("theme"),e.getProp("namespace")),n=!!e.getProp("builderv3_saved"),r=t(n?"#om-"+o+" ."+i+"-field-name":"#om-"+o+" #om-"+e.getProp("type")+"-"+e.getProp("theme")+"-optin-name"),s=t(n?"#om-"+o+" ."+i+"-field-email":"#om-"+o+" #om-"+e.getProp("type")+"-"+e.getProp("theme")+"-optin-email"),a=t("#om-"+o+" ."+i+"-field-phone"),p=t("#om-"+o).find('input[name="email"]').val(),l=t("#om-"+o).find('input[name="website"]').val(),c=!!e.getProp("segment_required"),u=t("#om-"+o+" #"+i+"-segments :input, #om-"+o+" #optin-monster-segments :input"),d=!1;if(r&&r.length>0){0==t.trim(r.val()).length&&(d=e.getProp("name_error")||e.getProp("error"))}if(s&&s.length>0){var g=t.trim(s.val());0!=g.length&&e.isValidEmail(g)||(d=e.getProp("email_error")||e.getProp("error"))}if(a&&a.length>0){0==t.trim(a.val()).length&&(d=e.getProp("phone_error")||e.getProp("error"))}if((p&&p.length>0||l&&l.length>0)&&(d=e.getProp("bot_error")||e.getProp("error")),c){var h=!1;u.each(function(e,o){if(t(o).is(":checked"))return h=!0,!1}),h||(d=e.getProp("segment_error")||e.getProp("error"))}return d},this.removeLoading=function(e){var t=this,o=t.getProp("$"),i=t.getProp("namespace"),n=!!t.getProp("builderv3_saved");o(e).css("opacity","1");var r=n?i+"-loading":i+"saas-loading";o("#om-"+t.getProp("optin")).find("."+r).remove()},this.optinJSON=function(){},this.optinSuccess=function(e,t){var o=e.getProp("$"),i=e.getProp("optin");e.getProp("type"),e.getProp("theme");return function(n){if(!n||o.isEmptyObject(n))return e.error(t,e.getProp("error"))
;if(n&&n.error)return e.error(t,n.error);n&&n.errors&&e.log(n.errors),e.setProp("om_submitting",!1),e.trigger("OptinMonsterOptinSuccess");var r=e.getProp("success_code");r&&o("#om-"+i).append(r),e.getProp("ga_uaid")?e.track(!0):e.cleanup(!0);var s=e.getProp("success");if(s&&s.hasOwnProperty("action"))switch(s.action){case"redirect":e.redirectOptin(n);break;case"message":e.successMessage(t);break;case"refresh":setTimeout(function(){window.location.reload()},500);break;case"close":e.close(!0),e.removeLoading(t),e.trigger("OptinMonsterOptinSuccessClose")}else e.getProp("redirect")?e.redirectOptin(n):e.getProp("success")?e.successMessage(t):(e.close(!0),e.removeLoading(t),e.trigger("OptinMonsterOptinSuccessClose"))}},this.redirectOptin=function(e){var t=this,o=t.getProp("$"),i=t.getProp("redirect"),n=t.getProp("redirect_pass");if(!1===i||0===i.length)return t.log("[OptinMonster] Cannot redirect. A redirect URL has not been set."),void t.close(!0);if(i=i.replace(new RegExp("&amp;","g"),"&"),i=i.replace(new RegExp("&#038;","g"),"&"),t.addMessage("Redirect URL: "+i),t.addMessage("Pass lead data: "+n),n&&e&&e.success){var r=t.getProp("optin_data");delete r.referrer,delete r.user_agent,delete r.previous,o.each(r,function(e,o){void 0!==o&&o.length>0&&(i=t.updateQueryString(i,"om_"+e,o),t.addMessage("Query arg added: om_"+e+"="+o))})}t.trigger("OptinMonsterOnRedirect"),setTimeout(function(){window.location.href=i},500)},this.updateQueryString=function(e,t,o){var i=new RegExp("([?|&])"+t+"=.*?(&|#|$)","i");if(e.match(i))return e.replace(i,"$1"+t+"="+o+"$2");var n="",r=-1!==e.indexOf("?")?"&":"?";return-1!==e.indexOf("#")&&(n=e.replace(/.*#/,"#"),e=e.replace(/#.*/,"")),e+r+t+"="+o+n},this.successMessage=function(e){var t=this,o=t.getProp("$"),i=t.getProp("optin"),n=t.getProp("namespace"),r=!!t.getProp("builderv3_saved"),a=t.getProp("type"),p=t.getProp("theme"),l="full-page-takeover"==a?o("#om-"+i):o("#om-"+i).find("div").first(),c=l.position(),u=l.outerWidth(),d=l.outerHeight(),g="sidebar"==a||"post"==a?7271832:0xe8da821f56;if(u instanceof jQuery&&(u=l.outerWidth(!1)),d instanceof jQuery&&(d=l.outerHeight(!1)),"slide"!==a&&(t.getProp("preview")&&!t.getProp("builderv3_saved")?o("#om-"+a+"-"+p+"-optin-wrap").hide():o("#om-"+i).find(".om-close, ."+n+"-close").hide()),t.getProp("success_html")&&l.find("."+n+"-success-container").html(t.getProp("success_html")),r)"sidebar"!=a&&"post"!=a||o("#om-"+i+" ."+n+"-success-container").find("."+n+"-success-close").remove(),o("#om-"+i+" ."+n+"-body").addClass(n+"-transition-hidden"),o("#om-"+i+" ."+n+"-success-container").removeClass(n+"-transition-hidden"),o("#om-"+i).removeClass(n+"-yesno-visible "+n+"-optin-visible").addClass(n+"-success-visible"),o("#om-"+i).find("iframe").each(function(e,t){0===o(this).parents("."+n+"-success-container").length&&o(this).remove()}),t.positionOptin();else{var h,m="sidebar"==a||"post"==a?'<div class="optin-monster-saas-success-overlay" style="display:none;"></div>':'<div class="optin-monster-saas-success-overlay" style="display:none;"><a href="#" class="om-close om-success-close">&times;</a></div>',f=t.getProp("success");h="object"===(void 0===f?"undefined":s(f))?f.hasOwnProperty("title")?f.title.text:"":f,"full-page-takeover"==a?l.append(m):l.after(m),o("#om-"+i).find(".optin-monster-saas-success-overlay").css({width:u,height:d,top:c.top,left:c.left,background:"#fff",position:"absolute",zIndex:g,padding:"0px 20px",opacity:0,display:"block"}).append('<div class="optin-monster-saas-success-message">'+h+"</div>"),o("#om-"+i).find(".optin-monster-saas-success-message").css({"margin-top":(d-o("#om-"+i).find(".optin-monster-saas-success-message").height())/2}),o("#om-"+i).find(".optin-monster-saas-success-overlay").fadeTo(300,1,function(){t.removeLoading(e),t.socialServices()}),t.poll(function(){o(window).resize(function(){var e=o("#om-"+i).find("div").first(),t=e.outerWidth(),n=e.outerHeight();t instanceof jQuery&&(t=e.outerWidth(!1)),n instanceof jQuery&&(n=e.outerHeight(!1)),o("#om-"+i).find(".optin-monster-saas-success-overlay").css({width:t,height:n,top:e.position().top,left:e.position().left}),o("#om-"+i).find(".optin-monster-saas-success-message").css({"margin-top":(n-o(".optin-monster-saas-success-message").height())/2})})},300)}},this.optinError=function(e,t){e.getProp("$"),e.getProp("optin"),e.getProp("type"),e.getProp("theme");return function(o,i,n){return e.trigger("OptinMonsterOptinError"),e.setProp("om_submitting",!1),e.error(t,e.getProp("ajax_error")+o.responseJSON.error)}},this.requestCORS=function(e,t,o,i){var n=this,r=n.getProp("$"),t=t||!1,s={url:e,cache:!1,type:"POST",timeout:3e4,data:t},o=o||!1,i=i||!1;o&&(s.success=o),i&&(s.error=i),r.ajax(s)},this.requestJSONP=function(e,t,o){var i=this,n=i.getProp("$"),r={url:e,cache:!1,type:"GET",dataType:"json",timeout:3e4,beforeSend:function(e,t){var o=t.url.split("?");return t.url=o[0],t},crossDomain:!0},t=t||!1,o=o||!1;t&&(r.success=t),o&&(r.error=o),n.ajax(r)},this.appendHolder=function(){var e=this.getProp("$"),t=this.getProp("type"),o=this.getProp("preview"),i=!1;if(this.isPopup(t))i={position:"fixed","z-index":"888888888",top:"0",left:"0",zoom:"1",width:"100%",height:"100%",margin:"0",padding:"0"},o&&(i.position="absolute",i.width="auto",i.right="0",i.bottom="0");else if("footer"==t){i={position:"fixed","z-index":"666666666",left:"0",zoom:"1",width:"100%",margin:"0",padding:"0"},o&&(i.position="absolute");var n=this.getProp("position");void 0!==n&&0!=n?i[n]=0:i.bottom=0}return i&&(e("#om-"+this.getProp("optin")).css(i),o||e("#om-"+this.getProp("optin")).appendTo("body")),this.trigger("OptinMonsterAppendHolder"),!0},this.poll=function(){var e=0;return function(t,o){return clearInterval(e),e=setInterval(t,o)}}(),this.isValidEmail=function(e){return new RegExp(/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?$/i).test(e)},this.createCookie=function(e,t,o,i){if(!this.getProp("test")){if(o||"0"==o)if("-1"==o||"0"==o)var n="";else{var r=new Date;r.setTime(r.getTime()+24*o*60*60*1e3);var n="; expires="+r.toGMTString()}else var n="; expires=Thu, 01 Jan 1970 00:00:01 GMT";document.cookie=i?e+"="+t+n+"; path=/;domain=."+this.getBaseDomain():e+"="+t+n+"; path=/"}},this.getCookie=function(e){for(var t=e+"=",o=document.cookie.split(";"),i=0;i<o.length;i++){for(var n=o[i];" "==n.charAt(0);)n=n.substring(1,n.length);if(0==n.indexOf(t))return n.substring(t.length,n.length)}return null},this.getCookies=function(){var e={};if(document.cookie&&""!=document.cookie){var t=document.cookie.split(";");t.map(function(o,i){var n=t[i].split("=");n[0]=n[0].replace(/^ /,""),e[decodeURIComponent(n[0])]=decodeURIComponent(n[1])})}return e},this.removeCookie=function(e){this.createCookie(e,"",0)},this.log=function(e){var t=this;this.getProp("$").inArray(e,t.loggedMessages)>-1||(t.loggedMessages.push(e),"object"===("undefined"==typeof console?"undefined":s(console))&&console.log(e))},this.trigger=function(e){var t=this;this.addMessage("Event fired: "+e,!0),t.public.ejQuery(document).trigger(e,[t.public,t]),this.getProp("debug")&&this.displayDebugLog()},this.cookiesEnabled=function(){var e=!!navigator.cookieEnabled;return void 0!==navigator.cookieEnabled||e||(document.cookie="testcookie",e=-1!=document.cookie.indexOf("testcookie")),e},this.hasInteractionCookie=function(){return this.getCookie("om-interaction-cookie")},this.getProp=function(e){return"namespace"==e?this.public.hasOwnProperty(e)?this.public[e]:"optin-monster-":!!this.public.hasOwnProperty(e)&&this.public[e]},this.getSiteProp=function(e){var t=this.getProp("site"),o=(this.getProp("$"),window.location.hostname),i=this.websiteWhitelisted(),n=this.mapSiteProp(e);if(Array.isArray(t)){var r=t.filter(function(e){return!!i||e.hasOwnProperty("domain")&&o.indexOf(e.domain)>-1});return!(0===r.length&&!i)&&(!!r[0].settings&&(r[0].settings.hasOwnProperty(e)?r[0].settings[e]:!!r[0].settings.hasOwnProperty(n)&&r[0].settings[n]))}return!!t.settings&&(t.settings.hasOwnProperty(e)?t.settings[e]:!!t.settings.hasOwnProperty(n)&&t.settings[n])},this.mapSiteProp=function(e){var t=e;switch(e){case"global_cookie":t="globalCookie";break;case"global_interaction_cookie":t="globalInteractionCookie";break;case"affiliate_link":t="affiliateLink";break;case"affiliate_link_position":t="affiliateLinkPosition"}return t},this.setProp=function(e,t){this.public[e]=t},this.isMobile=function(){var e=!1;return function(t){(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(t)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(t.substr(0,4))||/Android.+Chrome.+[.0-9].+Mobile/i.test(t))&&(e=!0)}(navigator.userAgent||navigator.vendor||window.opera),e},this.isIe11=function(){return!!window.MSInputMethodContext&&!!document.documentMode},this.hasVisiblePopup=function(){var e=[],t=this.getProp("$"),o=0;for(var i in window.OptinMonsterAppOptins)window.OptinMonsterAppOptins[i].hasOwnProperty("visible")&&!0===window.OptinMonsterAppOptins[i].visible&&("footer"===window.OptinMonsterAppOptins[i].type&&void 0!==window[i]&&(window.OptinMonsterAppOptins[i].position=window[i].getProp("position")),e[o]=window.OptinMonsterAppOptins[i].type,o++);return t.inArray("lightbox",e)>-1||t.inArray("canvas",e)>-1||t.inArray("full-page-takeover",e)>-1||t.inArray("mobile",e)>-1||this.hasFloatingBarConflict()||!1},this.hasFloatingBarConflict=function(){if("footer"!==this.getProp("type"))return!1;var e={};if(Object.keys(window.OptinMonsterAppOptins).map(function(t){window.OptinMonsterAppOptins[t].hasOwnProperty("visible")&&window.OptinMonsterAppOptins[t].visible&&"footer"===window.OptinMonsterAppOptins[t].type&&(e[t]=window.OptinMonsterAppOptins[t])}),0===Object.keys(e).length)return!1;var t=!1;for(var o in e)if(window.OptinMonsterAppOptins[o].position===this.getProp("position")){t=!0;break}return t},this.loadPlaceholder=function(){var s=this;s.getProp("$");!function(s){n=[o(1)],i=s,void 0!==(r="function"==typeof i?i.apply(t,n):i)&&(e.exports=r)}(function(e){function t(t){var o={},i=/^jQuery\d+$/;return e.each(t.attributes,function(e,t){t.specified&&!i.test(t.name)&&(o[t.name]=t.value)}),o}function o(t,o){var i=this,r=e(i);if(i.value==r.attr("placeholder")&&r.hasClass(d.customClass))if(r.data("placeholder-password")){if(r=r.hide().nextAll('input[type="password"]:first').show().attr("id",r.removeAttr("id").data("placeholder-id")),!0===t)return r[0].value=o;r.focus()}else i.value="",r.removeClass(d.customClass),i==n()&&i.select()}function i(){var i,n=this,r=e(n),s=this.id;if(""===n.value){if("password"===n.type){if(!r.data("placeholder-textinput")){try{i=r.clone().attr({type:"text"})}catch(o){i=e("<input>").attr(e.extend(t(this),{type:"text"}))}i.removeAttr("name").data({"placeholder-password":r,"placeholder-id":s}).bind("focus.placeholder",o),r.data({"placeholder-textinput":i,"placeholder-id":s}).before(i)}r=r.removeAttr("id").hide().prevAll('input[type="text"]:first').attr("id",s).show()}r.addClass(d.customClass),r[0].value=r.attr("placeholder")}else r.removeClass(d.customClass)}function n(){try{return document.activeElement}catch(e){}}var r,s,a="[object OperaMini]"==Object.prototype.toString.call(window.operamini),p="placeholder"in document.createElement("input")&&!a,l="placeholder"in document.createElement("textarea")&&!a,c=e.valHooks,u=e.propHooks;if(p&&l)s=e.fn.placeholder=function(){return this},s.input=s.textarea=!0;else{var d={};s=e.fn.placeholder=function(t){var n={customClass:"placeholder"};d=e.extend({},n,t);var r=this;return r.filter((p?"textarea":":input")+"[placeholder]").not("."+d.customClass).bind({"focus.placeholder":o,"blur.placeholder":i}).data("placeholder-enabled",!0).trigger("blur.placeholder"),r},s.input=p,s.textarea=l,r={get:function(t){var o=e(t),i=o.data("placeholder-password");return i?i[0].value:o.data("placeholder-enabled")&&o.hasClass(d.customClass)?"":t.value},set:function(t,r){var s=e(t),a=s.data("placeholder-password");return a?a[0].value=r:s.data("placeholder-enabled")?(""===r?(t.value=r,t!=n()&&i.call(t)):s.hasClass(d.customClass)?o.call(t,!0,r)||(t.value=r):t.value=r,s):t.value=r}},p||(c.input=r,u.value=r),l||(c.textarea=r,u.value=r),e(function(){e(document).delegate("form","submit.placeholder",function(){var t=e("."+d.customClass,this).each(o);setTimeout(function(){t.each(i)},10)})}),e(window).bind("beforeunload.placeholder",function(){e("."+d.customClass).each(function(){this.value=""})})}})},this.doPlaceholder=function(){var e=this,t=e.getProp("$"),o=t("#om-"+e.getProp("optin")+" input");o.length>0&&t.fn.placeholder&&o.each(function(){t(this).placeholder()}),e.trigger("OptinMonsterPlaceholderDone")},this.isIE=function(){var e=this.getProp("$");return!(e.support.cors||!e.ajaxTransport||!window.XDomainRequest)},this.getQueryParameters=function(e){return(e||document.location.search||document.location.hash).replace(/(^\?)|(^\#)/,"").split("&").map(function(e){if(void 0!==e)return e=e.split("="),this[e[0]]=e[1],this}.bind({}))[0]},this.getQueryArgValue=function(e,t){var o=this.getQueryParameters();return void 0===o[e]?"":o[e]},this.globalHideArg=function(){var e=this.getQueryParameters();return void 0!==e&&(void 0!==e.omhide?(this.addMessage("Global hide cookie: true"),!0):(this.addMessage("Global hide cookie: false"),!1))},this.websiteMatch=function(){var e=this.getProp("$"),t=this.getProp("site"),o=window.location.hostname.replace("www.",""),i=!1,n=!1,r=this;return this.addMessage("Current website: "+o),this.websiteWhitelisted()?(r.addMessage("Website whitelisted: true"),!0):!!this.getProp("public")||(Array.isArray(t)||(t=[t]),e.each(t,function(e,t){if(t.hasOwnProperty("domain"))if(r.addMessage("Registered domain: "+t.domain),t.hasOwnProperty("added")&&t.added>1475038800||t.hasOwnProperty("created")&&t.created>1475038800){var s="^"+t.domain.replace("www.",""),a=new RegExp(s.replace("*.","[a-z0-9.-]+"),"i");if(a.test(o))return r.addMessage("Website match: true"),n=!0,!1;i="[OptinMonster] The optin campaign requested does not have permission to load on this domain."}else{if(o.indexOf(t.domain.replace("www.",""))>-1)return r.addMessage("Website match: true"),n=!0,!1;i="[OptinMonster] The optin campaign requested does not have permission to load on this domain."}else r.addMessage("Website match: None registered"),i="[OptinMonster] No site has been specified for this optin campaign. The optin campaign has ceased loading."}),!1===n&&(this.addMessage("Website match: false"),this.log(i)),n)},this.websiteWhitelisted=function(){var e=this.getProp("$"),t=window.location.hostname,o=!1,i=[".dev",".local","local.","staging.","localhost","127.0.0.1","bigcommerce.com","blogspot.com","jimdo.com","joomla.com","pswebstore.com","myshopify.com","squarespace.com","tumblr.com","volusion.com","weebly.com","rmkr.net"];return e.each(i,function(e,i){if(t.indexOf(i)>-1)return o=!0,!1}),o},this.pageSlugMatch=function(){var e=this.getProp("page_slug"),t=this.getProp("page_match"),o=this.getProp("page_exclude"),i=window.location.pathname.substr(1);return this.addMessage("Current window page slug: "+i),this.addMessage("Page slug: "+e),this.addMessage("Exact match set: "+t),this.addMessage("Exclude page slug: "+o),t&&o?"/"==e?!i.length>0?(this.addMessage("Page slug matches: true"),this.log("[OptinMonster] The page slug has been set to be excluded. The optin campaign has ceased loading."),!1):(this.addMessage("Page slug matches: false"),!0):e==i?(this.addMessage("Page slug matches: true"),this.log("[OptinMonster] The page slug has been set to be excluded. The optin campaign has ceased loading."),!1):(this.addMessage("Page slug matches: false"),!0):o?"/"==e?!i.length>0?(this.addMessage("Page slug matches: true"),this.log("[OptinMonster] The page slug has been set to be excluded. The optin campaign has ceased loading."),!1):(this.addMessage("Page slug matches: false"),!0):i.indexOf(e)>-1?(this.addMessage("Page slug matches: true"),this.log("[OptinMonster] The page slug has been set to be excluded. The optin campaign has ceased loading."),!1):(this.addMessage("Page slug matches: false"),!0):t?"/"==e?i.length>0?(this.addMessage("Page slug matches: false"),this.log("[OptinMonster] The page slug entered does not match the request URI exactly. The optin campaign has ceased loading."),!1):(this.addMessage("Page slug matches: true"),!0):e!==i?(this.addMessage("Page slug matches: false"),this.log("[OptinMonster] The page slug entered does not match the request URI exactly. The optin campaign has ceased loading."),!1):(this.addMessage("Page slug matches: true"),!0):"/"==e?i.length>0?(this.addMessage("Page slug matches: false"),this.log("[OptinMonster] The page slug entered does not exist in the request URI. The optin campaign has ceased loading."),!1):(this.addMessage("Page slug matches: true"),!0):i.indexOf(e)>-1||(this.addMessage("Page slug matches: false"),this.log("[OptinMonster] The page slug entered does not exist in the request URI. The optin campaign has ceased loading."),!1)},this.referrerMatch=function(){var e=this.getProp("$"),t=this.getProp("referrer_domain"),o=this.getProp("referrer_exclude"),i=t.split(","),n=document.referrer||!1,r=!1;return this.addMessage("Optin referrer: "+t),this.addMessage("Actual referrer: "+t),this.addMessage("Exclude referrer: "+o),n?(o?(r=!0,e.each(i,function(e,t){if(n.indexOf(t)>-1)return r=!1,!1})):e.each(i,function(e,t){if(n.indexOf(t)>-1)return r=!0,!1}),r&&!o?(this.addMessage("Referrer matches: true"),!0):r&&o?(this.addMessage("Referrer matches: true"),this.log("[OptinMonster] The referrer is allowed."),!0):(o?(this.addMessage("Referrer matches: true"),this.log("[OptinMonster] The page referrer matches the domain referrer, but it is set to be excluded. The optin campaign has ceased loading.")):(this.addMessage("Referrer matches: false"),this.log("[OptinMonster] The page referrer does not match the requested domain referrer. The optin campaign has ceased loading.")),!1)):(this.addMessage("Referrer matches: false"),this.log("[OptinMonster] No referrer was specified for this page. The optin campaign has ceased loading."),!1)},this.campaignIsActive=function(){var e=this.getProp("campaign_status");return this.addMessage("Campaign status: "+e),"paused"!=e||(this.log("[OptinMonster] This campaign has been paused."),!1)},this.socialServices=function(){var e=this;e.getProp("$"),e.getProp("optin");"undefined"!=typeof FB&&null!=FB&&FB.hasOwnProperty("XFBML")&&FB.XFBML.parse(),"undefined"!=typeof twttr&&null!=twttr&&twttr.hasOwnProperty("widgets")&&twttr.widgets.load(),setTimeout(function(){e.positionOptin()},500),e.trigger("OptinMonsterSocial")},this.getScrollPercentage=function(){var e=this.getProp("$"),t=e(window).scrollTop()||0,o=e(document).height(),i=e(window).height();return Math.round(t/(o-i)*100)},this.corsPatch=function(){var e=this.getProp("$");if(!e.support.cors&&e.ajaxTransport&&window.XDomainRequest){var t=/^(https?:)?\/\//i,o=/^get|post$/i,i=new RegExp("^(//|"+location.protocol+")","i");e.ajaxTransport("* text html xml json",function(n,r,s){if(n.crossDomain&&n.async&&o.test(n.type)&&t.test(n.url)&&i.test(n.url)){var a=null;return{send:function(t,o){var i="",s=(r.dataType||"").toLowerCase();a=new XDomainRequest,/^\d+$/.test(r.timeout)&&(a.timeout=r.timeout),a.ontimeout=function(){o(500,"timeout")},a.onload=function(){var t="Content-Length: "+a.responseText.length+"\r\nContent-Type: "+a.contentType,i={code:200,message:"success"},n={text:a.responseText};try{if("html"===s||/text\/html/i.test(a.contentType))n.html=a.responseText;else if("json"===s||"text"!==s&&/\/json/i.test(a.contentType))try{n.json=e.parseJSON(a.responseText)}catch(e){i.code=500,i.message="parseerror"}else if("xml"===s||"text"!==s&&/\/xml/i.test(a.contentType)){var r=new ActiveXObject("Microsoft.XMLDOM");r.async=!1;try{r.loadXML(a.responseText)}catch(e){r=void 0}if(!r||!r.documentElement||r.getElementsByTagName("parsererror").length)throw i.code=500,i.message="parseerror","Invalid XML: "+a.responseText;n.xml=r}}catch(e){throw e}finally{o(i.code,i.message,n,t)}},a.onprogress=function(){},a.onerror=function(){o(500,"error",{text:a.responseText})},r.data&&(i="string"===e.type(r.data)?r.data:e.param(r.data)),a.open(n.type,n.url),a.send(i)},abort:function(){a&&a.abort()}}}}),this.setProp("$",e)}},this.setDefaults=function(){var e="https:"==document.location.protocol?"https://":"http://",t=this.getProp("staging")?"staging-api":"api";this.getProp("beta")&&(t="beta-api"),this.getProp("dev")?(this.setProp("api_optin",e+"app.optinmonster.dev/v1/optin/"),this.setProp("api_site",e+"app.optinmonster.dev/v1/optins/site/"),this.setProp("api_convert",e+"app.optinmonster.dev/v1/convert/"),this.setProp("api_locate",e+"app.optinmonster.dev/v1/geolocate/")):(this.setProp("api_optin",e+t+".optnmstr.com/v1/optin/"),this.setProp("api_site",e+t+".optnmstr.com/v1/optins/site/"),this.setProp("api_convert",e+t+".optnmstr.com/v1/convert/"),this.setProp("api_locate",e+t+".optnmstr.com/v1/geolocate/"))},this.addMessage=function(e,t){var o=this;this.getProp("$").inArray(e,o.loggedMessages)>-1||(o.loggedMessages.push(e),t?o.messages.unshift(e):o.messages.push(e))},this.displayDebugLog=function(){var e=this.getProp("$"),t=this.getProp("u"),o=this.getProp("campaign"),i=this.getProp("optin");i?console.group("OptinMonster Debug Info: "+o+" ("+i+")"):console.group("OptinMonster Debug Info: "+t),e.each(this.messages,function(e,t){console.log(t)}),console.groupEnd(),this.messages.length=0},this.isPageSlide=function(e){return"full-page-takeover"==e&&this.getProp("page_slide")},this.isPopup=function(e){var t=["lightbox","full-page-takeover","canvas","mobile"];return this.getProp("$").inArray(e,t)>-1||!1},this.ucWord=function(e){return e.charAt(0).toUpperCase()+e.substr(1)},this.getCurrentTimestamp=function(){return Date.now()},this.getReferrer=function(){return document.referrer||""},this.getSessionStartTime=function(){return"object"===("undefined"==typeof sessionStorage?"undefined":s(sessionStorage))&&parseInt(sessionStorage.getItem("om-session-start"))},this.getScrollAmount=function(e){return 1===e?this.getWindowScrollTop():this.getScrollPercentage()},this.getWindowScrollTop=function(){return this.getProp("$")(window).scrollTop()},this.getDocumentScrollTop=function(){return document.documentElement.scrollTop},this.getBodyScrollTop=function(){return document.body.scrollTop},this.getDocumentScrollHeight=function(){return document.documentElement.scrollHeight},this.getDocumentClientHeight=function(){return document.documentElement.clientHeight},this.getUrlPath=function(){return window.location.pathname.substr(1).replace(/\/$/,"")},this.getUrlHash=function(){return window.location.hash.substr(1)},this.getSessionPageviews=function(){return"object"===("undefined"==typeof sessionStorage?"undefined":s(sessionStorage))&&sessionStorage.getItem("om-session-pageviews")},this.incrementSessionPageviews=function(){if("object"===("undefined"==typeof sessionStorage?"undefined":s(sessionStorage)))try{var e=sessionStorage.getItem("om-session-pageviews");null===e?sessionStorage.setItem("om-session-pageviews",1):sessionStorage.setItem("om-session-pageviews",++e)}catch(e){}},this.registerVariables=function(){void 0!==window.OptinMonsterCustomVariables&&"function"==typeof window.OptinMonsterCustomVariables&&window.OptinMonsterCustomVariables(this)},this.setCustomVariable=function(e,t){window.OptinMonsterAppVariables[e]=t},this.getCustomVariable=function(e){return!!window.OptinMonsterAppVariables.hasOwnProperty(e)&&window.OptinMonsterAppVariables[e]},this.getCustomVariables=function(){return window.OptinMonsterAppVariables},this.hasCustomVariable=function(e){return window.OptinMonsterAppVariables.hasOwnProperty(e)},this.hasCustomVariables=function(){return!this.getProp("$").isEmptyObject(window.OptinMonsterAppVariables)},this.replaceCustomVariables=function(){var e=this,t=e.getProp("$"),o=t.trim(e.getProp("html")),i=o.match(/\{\{(.*?)\}\}/g),n=this.getQueryParameters();this.getProp("preview")||i&&(t.each(i,function(t,i){var r=i,s=i.replace("{{",""),s=s.replace("}}",""),s=s.split("|");if(!(!0 in s))if(void 0!==n&&void 0!==n[s[0]])o=o.replace(r,decodeURIComponent(n[s[0]]));else if(e.getCookie(s[0]))o=o.replace(r,e.getCookie(s[0]));else if(e.getCustomVariable(s[0]))o=o.replace(r,e.getCustomVariable(s[0]));else{if(void 0===s[1])return o=o.replace(r+" ",""),void(o=o.replace(r,""));o=o.replace(r,s[1])}}),e.setProp("html",o))},this.deleteCustomVariable=function(e){delete window.OptinMonsterAppVariables[e]},this.hasMinimumJqVersion=function(){if(void 0===window.jQuery)return!1;var e=window.jQuery.fn.jquery.split(".");return!!e[0]&&(parseInt(e[0])>1||!!e[1]&&parseInt(e[1])>=9)},this.getjQueryTrigger=function(){var e=this.getProp("ejQuery").fn.jquery.split("."),t="on";return parseInt(e[0])>0&&parseInt(e[1])<7&&(t="bind"),t},this.isHolderSet=function(e){return 0!==this.getProp("$")("#om-"+e+"-holder").length},this.getBaseDomain=function(){for(var e,t="temporary_get_base_domain=cookie",o=document.location.hostname.split("."),i=o.length-1;i>=0;i--)if(e=o.slice(i).join("."),document.cookie=t+";domain=."+e+";",document.cookie.indexOf(t)>-1)return document.cookie=t.split("=")[0]+"=;domain=."+e+";expires=Thu, 01 Jan 1970 00:00:01 GMT;",e},this.outputDebug=function(){var e=this,t=e.getProp("$");if("true"===e.getQueryArgValue("omdebug")){var o=e.getProp("site"),i=e.getProp("campaign"),n=[{name:"title",value:e.getProp("campaign")},{name:"slug",value:e.getProp("optin")},{name:"id",value:e.getProp("id")},{name:"type",value:e.getProp("type")},{name:"theme",value:e.getProp("theme")},{name:"namespace",value:e.getProp("namespace")},{name:"cookie",value:e.getProp("cookie")},{name:"cookie_cross_domain",value:e.getProp("cookie_cross_domain")},{name:"cookie_success",value:e.getProp("cookie_success")},{name:"page_slide",value:e.getProp("page_slide")},{name:"yesno",value:e.getProp("yesno")},{name:"yesno_theme",value:e.getProp("yesno_theme")}],r=[];void 0!==o?t.each(o,function(e,t){r.push(t.domain)}):r.push("unknown"),n.splice(5,0,{name:"domains",value:r.join(", ")});var s=JSON.parse(e.getProp("rules_engine").rulesets.replace(/\\/g,"\\\\")),a=[];t.each(s,function(e,o){t.each(o.rules,function(e,t){if(t.active){var i=t.conditions[0][0],n=Object.assign({ruleset:o.name,rule:t.rule},i);a.push(n)}})}),e.isIE()||this.isIe11()||this.isMobile()?console.log("[OptinMonster] Debug info not available for this browser"):(console.log("%c [OptinMonster] Debug info for campaign "+i+":","background: #eee; color: #2485d0"),console.groupCollapsed(),console.log("[OptinMonster] Properties of campaign "+i+":"),console.table(n),console.log("[OptinMonster] Display rules for campaign "+i+":"),console.table(a),console.groupEnd())}}};void 0!==e&&void 0!==e.exports&&(e.exports=l),window.OptinMonsterApp=l}]);