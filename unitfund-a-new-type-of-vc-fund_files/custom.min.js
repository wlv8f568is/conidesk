"use strict";var CD=CD||{};CD.Api=function(a,b){var c="https://api.coindesk.com",d=function(a,c){var d=c.times,e=a.timeout;return function(f,g,h){function i(){b.ajax(j).retry({times:d-1,timeout:c.timeout}).pipe(k.resolve,k.reject)}var j=this,k=new b.Deferred,l=a.getResponseHeader("Retry-After");return d>1&&(!a.statusCodes||b.inArray(f.status,a.statusCodes)>-1)?(l&&(e=isNaN(l)?new Date(l).getTime()-b.now():1e3*parseInt(l,10),(isNaN(e)||e<0)&&(e=a.timeout)),void 0!==e?setTimeout(i,e):i()):k.rejectWith(this,arguments),k}};return b.ajaxPrefilter(function(a,b,c){c.retry=function(a){return a.timeout&&(this.timeout=a.timeout),a.statusCodes&&(this.statusCodes=a.statusCodes),this.pipe(null,d(this,a))}}),a.getBPICurrentPrice=function(a){return b.ajax({url:"https://api.coindesk.com/site/headerdata.json?currency="+a,dataType:"json"})},a.getBPICurrentPriceCalc=function(){return b.ajax({url:c+"/v1/bpi/currentprice/allcurrencies.json?showex=1&calc=1",dataType:"json"})},a.getBPICurrentPrice24Hours=function(a){return b.ajax({url:"https://api.coindesk.com/headerchart/history?currency="+a,dataType:"json"})},a.getBTXChartData=function(a){return b.ajax({url:c+"/btxcharts/data?data="+a,dataType:"json"})},a.getSentimentIndexData=function(a){return a=a.toUpperCase(),b.ajax({type:"GET",url:"//widgets.qriously.com/coindesk/idxI_"+a+"_s_v2.json"})},a.redditSearch=function(a){return b.ajax({type:"GET",contentType:"text/plain",xhrFields:{withCredentials:!1},url:"//www.reddit.com/search.json?q=url:"+a})},a}(CD.Api||{},jQuery);var CD=CD||{};CD.AprilFools=function(a,b){var c=function(a,b){return Math.floor(Math.random()*(b-a+1)+a)},d=function(a,b){return(Math.random()*(a-b)+b).toFixed(2)},e=function(a,e){var f=d(.5,2.5);for(i=0;i<e;i++){var g=c(0,a.length-1),h=b(a[g]),j=parseInt(h.css("font-size"),10);h.css("line-height","normal"),h.animate({fontSize:j*f},3e3)}},f=function(){var a=b(".single-title h1, .single-content h2, .single-content p");window.setInterval(function(){e(a,1)},5e3)};return a.init=function(){b(".single-post").length&&f()},a}(CD.AprilFools||{},jQuery);var CD=CD||{};CD.Calculator=function(a,b){var c=b("#btcinput"),d=b("#fiatinput"),e=b("#fiatcurrency"),f=b("#fiatcurrencymobile"),g=null,h=[],i="btc",j="Conversion rate as per Bitcoin Price Index, last updated at ",k="USD",l=!1,m=6e4,n=function(){CD.Api.getBPICurrentPriceCalc().then(function(b){a.storeCurrencyRates(b)})},o=function(){var a,f=e.val();if("btc"===i){var h=c.val();h=parseFloat(h.replace(/[^0-9-.]/g,"")),a=h*g.bpi[f].rate_float,d.val(CD.Helpers.formatMoney(a,2,""))}else{var k=d.val();k=parseFloat(k.replace(/[^0-9-.]/g,"")),a=k/g.bpi[f].rate_float,c.val(CD.Helpers.formatMoney(a,6,""))}b(".updatetime").html(j+g.time.updateduk)},p=function(a){var c="";return b.each(a,function(a,b){return"BTC"===a||(c+='<option value="'+a+'">'+a+"</option>",void h.push({iso:a,label:a+" - "+b.description}))}),c},q=function(){f.append(p(g.bpi)),e.autocomplete({minLength:0,source:h,position:{offset:"-150 4"},focus:function(a,b){return e.val(b.item.iso),!1},select:function(a,b){return e.val(b.item.iso).blur(),o(),!1},_resizeMenu:function(){this.menu.element.outerWidth(325)},open:function(){b(this).autocomplete("widget").css("width",300)}})},r=function(){c.keyup(function(a){9!==a.which&&(i="btc",o())}),d.keyup(function(a){9!==a.which&&(i="fiat",o())}),b(".exchangeratecontainer .numericonly").bind("keyup paste",function(){setTimeout(b.proxy(function(){this.val(this.val().replace(/[^0-9.]/g,"")),o()},b(this)),0)}),e.on({change:function(){o()},focus:function(){return""!==b(this).val()&&(k=b(this).val()),b(this).val("").autocomplete("search",""),!1},blur:function(){""===b(this).val()&&b(this).val(k)},keydown:function(a){13===a.keyCode&&e.autocomplete("close")}}),d.add(c).on({focus:function(){var a=b(this).val();b(this).val(parseFloat(a.replace(/[^0-9-.]/g,"")))},blur:function(){var a="fiatinput"===b(this).attr("id")?2:6,c=parseFloat(b(this).val());b(this).val(CD.Helpers.formatMoney(c,a,""))},keydown:function(a){38===a.which&&setTimeout(b.proxy(function(){this.val(parseFloat(this.val())+1)},b(this)),0),40===a.which&&setTimeout(b.proxy(function(){parseFloat(this.val())>0&&this.val(parseFloat(this.val())-1)},b(this)),0)}}),f.on("change",function(){e.val(f.find(":selected").text()).trigger("keyup"),o()})};return a.storeCurrencyRates=function(a){g=a,0===f.has("option").length&&q(),o()},a.init=function(){l=CD.Helpers.detectPages("price"),setInterval(function(){n()},m),n(),r()},a}(CD.Calculator||{},jQuery);var CD=CD||{};CD.ChartConfigs=function(a,b){var c=function(a){var b={};switch(a){case"xbttotal":b.LHSLegend="Total Bitcoins (XBT)",b.toolTipText="Total XBT",b.friendlyUnit="millions";break;case"ltctotal":b.LHSLegend="Total Litecoins (LTC)",b.toolTipText="Total LTC",b.friendlyUnit="millions";break;case"xbtdailytransactions":case"ltcdailytransactions":b.LHSLegend="Daily Transactions",b.toolTipText="Transactions",b.friendlyUnit="thousands";break;case"xbtavgtransactionsperblock":case"ltcavgtransactionsperblock":b.LHSLegend="Daily # Average Transactions",b.toolTipText="Avg. Transactions";break;case"xbtmarketcap":case"ltcmarketcap":b.LHSLegend="Market Cap (USD)",b.toolTipText="Market Cap (USD)",b.friendlyUnit="billions",b.currencySymbol="$",b.initialZoom=3;break;case"xbtminingdifficulty":case"ltcminingdifficulty":b.LHSLegend="Difficulty",b.toolTipText="Difficulty",b.friendlyUnit="thousands",b.initialZoom=3}return b};return a.setGlobalChartOptions=function(){return!!Highcharts&&void Highcharts.setOptions({chart:{style:{fontFamily:"ProximaNova, 'Helvetica Neue', Helvetica, Arial, sans-serif"}},lang:{rangeSelectorZoom:"",rangeSelectorFrom:"",rangeSelectorTo:"to"}})}(),a.getBaseConfig=function(){return{colors:["#333"],chart:{events:{load:CD.ChartConfigs.addLogoToChart},alignTicks:!1,zoomType:"x",pinchType:"x",panning:!0,selectionMarkerFill:"rgba(251,192,1,0.25)",backgroundColor:"#fff",borderWidth:0,borderRadius:0,plotBackgroundColor:null,plotShadow:!1,plotBorderWidth:0},lang:{contextButtonTitle:"Export options for this chart"},navigation:{menuItemStyle:{background:"none",padding:"10px",color:"#555",fontSize:"12px"},menuItemHoverStyle:{background:"#d8d8d8",color:"#555"},buttonOptions:{theme:{r:0,states:{hover:{fill:"#fff",stroke:"#fff"},select:{stroke:"#fff",fill:"#fff"}}}}},navigator:{enabled:!1,adaptToUpdatedData:!0,handles:{backgroundColor:"#FBC001",borderColor:"#555"},outlineColor:"#555",maskFill:"rgba(255,255,255,.75)",series:{color:"#fcf0d7",lineColor:"#FBC001",fillOpacity:1,lineWidth:2}},rangeSelector:{inputPosition:{x:-80},buttonSpacing:3,inputBoxBorderColor:"#d8d8d8",inputStyle:{color:"#8a8a8a",fontSize:"12px",fontFamily:"Arial"},labelStyle:{color:"#8a8a8a",fontSize:"13px",fontFamily:"Arial",marginTop:"-10px"},buttonTheme:{fill:"#e6e6e6",stroke:"#e6e6e6",r:0,width:30,style:{color:"#555",fontSize:"12px"},states:{hover:{fill:"#d8d8d8",stroke:"#d8d8d8",style:{color:"#555"}},select:{fill:"#FBC001",stroke:"#FBC001",style:{color:"#555"}}}}},title:{text:"",style:{fontSize:"20px",fontWeight:"bold",color:"#545454"}},scrollbar:{enabled:!1,liveRedraw:!1},yAxis:{opposite:!1,showFirstLabel:!1,endOnTick:!0,gridLineColor:"#e8e8e8",lineWidth:0,tickWidth:0,labels:{style:{color:"#8a8a8a"}}},xAxis:{gridLineWidth:0,lineColor:"#fff",labels:{style:{color:"#8a8a8a"}},endOnTick:!1},legend:{itemStyle:{color:"#CCC"},itemHoverStyle:{color:"#ccc"},itemHiddenStyle:{color:"#333"}},labels:{style:{color:"#CCC"}},credits:{enabled:!1},exporting:{chartOptions:{scrollbar:{enabled:!1}},enabled:!0,scale:1,sourceWidth:800,sourceHeight:400,buttons:{downArrow:{symbol:"url(/wp-content/themes/coindesk2/images/cd-export.png)",symbolX:15,symbolY:10,text:"Export",y:-1,x:0,_titleKey:"contextButtonTitle",theme:{fill:"#fbc001",stroke:"#fff",r:0,height:17,width:40,padding:2,states:{hover:{fill:"#f0b91c",stroke:"#fff"},select:{fill:"#f0b91c",stroke:"#fff"}}},menuItems:[{textKey:"printChart",onclick:function(){this.print()}},{separator:!0},{textKey:"downloadPNG",onclick:function(){this.exportChart(null,{chart:{events:{load:CD.ChartConfigs.addLogoToChart}}})}},{textKey:"downloadJPEG",onclick:function(){this.exportChart({type:"image/jpeg",events:{load:CD.ChartConfigs.addLogoToChart}})}},{textKey:"downloadPDF",onclick:function(){this.exportChart({type:"application/pdf",events:{load:CD.ChartConfigs.addLogoToChart}})}},{textKey:"downloadSVG",onclick:function(){this.exportChart({type:"image/svg+xml",events:{load:CD.ChartConfigs.addLogoToChart}})}}]}}}}},a.getBPIChartConfig=function(c,d,e,f,g,h){var i,j;return i=a.getBaseConfig(),j={chart:{renderTo:"xbtindex-chart"},navigator:{series:{data:c.navigator}},rangeSelector:{allButtonsEnabled:!0,buttonSpacing:2,selected:d,inputEnabled:e,buttons:f},plotOptions:{candlestick:{borderWidth:0,lineWidth:1,color:"#b95516",lineColor:"#b95516",upColor:"#009b2c",upLineColor:"#009b2c",tooltip:{useHTML:!0,headerFormat:'<span style="font-size: 10px">{point.key}</span><br/><table>',pointFormat:'<tr><td style="color: {series.color}; font-weight: bold;">{series.name}</td></tr><tr><td style="font-weight: bold;">Open:<td><td style="text-align: right; padding-left: 20px"><b>{point.open}</b></td></tr><tr><td style="font-weight: bold;">High:<td><td style="text-align: right; padding-left: 20px"><b>{point.high}</b></td></tr><tr><td style="font-weight: bold;">Low:<td><td style="text-align: right; padding-left: 20px"><b>{point.low}</b></td></tr><tr><td style="font-weight: bold;">Close:<td><td style="text-align: right; padding-left: 20px"><b>{point.close}</b></td></tr>',footerFormat:"</table><br/>"}},ohlc:{borderWidth:0,lineWidth:1,marker:{enabled:!1,radius:100}}},tooltip:{shadow:!1,backgroundColor:"#e6e6e6",borderWidth:0,valueDecimals:2,valuePrefix:g,color:"#333",shared:!0,useHTML:!0,headerFormat:"<small>{point.key} UTC</small><table>",pointFormat:'<tr><td style="color: {series.color}; font-weight: bold;">{series.name}:</td><td style="text-align: right; padding-left: 20px"><b>{point.y}</b></td></tr>',footerFormat:"</table>"},series:h.seriesOptions,yAxis:{labels:{format:g+"{value}"}},xAxis:{tickPixelInterval:200,type:"datetime",ordinal:!1},exporting:{filename:"coindesk-bpi-chart"}},b.extend(!0,i,j)},a.getDataChartConfig=function(d,e,f){var g,h,i,j;return g=a.getBaseConfig(),j=c(e),h={chart:{renderTo:"networkchart"},rangeSelector:{selected:j.initialZoom,inputEnabled:!0,buttons:[{type:"month",count:1,text:"1m"},{type:"month",count:3,text:"3m"},{type:"ytd",text:"YTD"},{type:"year",count:1,text:"1y"},{type:"all",text:"All"}]},plotOptions:{series:{dataGrouping:{dateTimeLabelFormats:{minute:["%A, %b %e, %Y","%A, %b %e, %Y",""],hour:["%A, %b %e, %Y","%A, %b %e, %Y",""],day:["%A, %b %e, %Y","%A, %b %e, %Y",""],week:["Week from %A, %b %e, %Y","%A, %b %e","-%A, %b %e, %Y"],month:["%B %Y","%B",""],year:["%Y","%Y",""]}}}},tooltip:{xDateFormat:"%Y-%m-%d",shadow:!1,backgroundColor:"#FBC001",borderWidth:0,borderRadius:0,valueDecimals:2,style:{color:"#555",padding:"10px"}},series:[{name:j.toolTipText,data:d}],yAxis:{title:{text:j.LHSLegend,style:{color:"#8a8a8a"}},min:0,labels:{formatter:function(){var a;if(j.friendlyUnit)switch(j.friendlyUnit){case"thousands":a=CD.Helpers.addCommas(this.value);break;case"millions":a=this.value/1e6+"M";break;case"billions":a=this.value/1e9+"B";break;default:a=this.value}return j.currencySymbol&&(a=j.currencySymbol+a),j.friendlyUnit||j.currencySymbol?a:this.value},format:j.yLabel}},xAxis:{minRange:2592e5,max:f.getTime()},exporting:{filename:j.LHSLegend}},i={text:"Download CSV Chart Data",onclick:function(){var a="https://api.coindesk.com/btxcharts/data?data="+e+"&outputType=csv";window.location.href=a}},g.exporting.buttons.downArrow.menuItems.push(i),b.extend(!0,g,h)},a.getSentimentChartConfig=function(c){var d,e;return d=a.getBaseConfig(),e={chart:{renderTo:"sentimentindex-chart"},rangeSelector:{selected:4,inputEnabled:!0,buttons:[{type:"week",count:1,text:"1w"},{type:"month",count:1,text:"1m"},{type:"month",count:3,text:"3m"},{type:"year",count:1,text:"1y"},{type:"all",text:"All"}]},plotOptions:{series:{dataGrouping:{dateTimeLabelFormats:{minute:["%A, %b %e, %Y","%A, %b %e, %Y",""],hour:["%A, %b %e, %Y","%A, %b %e, %Y",""],day:["%A, %b %e, %Y","%A, %b %e, %Y",""],week:["Week from %A, %b %e, %Y","%A, %b %e","-%A, %b %e, %Y"],month:["%B %Y","%B",""],year:["%Y","%Y",""]}}}},tooltip:{xDateFormat:"%Y-%m-%d",shadow:!1,backgroundColor:"#FBC001",borderWidth:0,borderRadius:0,valueDecimals:2,style:{color:"#555",padding:"10px"}},series:[{name:"Score",data:c}],xAxis:{type:"datetime"},exporting:{filename:"sentiment-index",sourceWidth:1260,sourceHeight:800}},b.extend(!0,d,e)},a.getHeaderChartConfig=function(a,c){var d=b(window).width()<=640,e={},f={chart:{renderTo:"header-chart-"+c,backgroundColor:null,borderWidth:0,type:"area",margin:[8,0,8,45],style:{overflow:"visible"},skipClone:!0},colors:["#f1c40f"],title:{text:""},credits:{enabled:!1},xAxis:{labels:{enabled:!1},title:{text:null},lineWidth:0,tickPositions:[]},yAxis:{tickPositioner:function(){return[Math.floor(this.series[0].dataMin),(this.series[0].dataMin+this.series[0].dataMax)/2,Math.ceil(this.series[0].dataMax)]},lineWidth:0,gridLineColor:"#383b3e",gridLineWidth:1,labels:{enabled:!0,formatter:function(){return"$"+Math.round(this.value)},style:{color:"#fff",fontSize:15},x:-4,y:5},title:{text:null}},navigation:{buttonOptions:{enabled:!1}},legend:{enabled:!1},tooltip:{enabled:!1},plotOptions:{series:{animation:!1,lineWidth:2,shadow:!1,states:{hover:{enabled:!1}},marker:{radius:0},fillOpacity:0,events:{click:function(){c&&"ETH"==c?window.location="/ethereum-price/":window.location="/price/"}}}},series:[{data:a}]};return d&&(e={chart:{margin:[0,0,0,0]},yAxis:{gridLineWidth:0,labels:{enabled:!1}}},b.extend(!0,f,e)),f},a.addLogoToChart=function(){var a=b(this.container),c=a.width(),d=a.height(),e=document.location.protocol+"//"+document.location.hostname,f="/wp-content/themes/coindesk2/images/bpi-chart-branding.png",g={x:c-160,y:d-129};this.renderer.image(e+f,g.x,g.y,150,29).add()},a}(CD.ChartConfigs||{},jQuery);var CD=CD||{};CD.Device=function(a,b){var c=function(){return/android|webos|iphone|ipad|ipod|blackberry|iemobile|opera mini/i.test(navigator.userAgent.toLowerCase())};return a.init=function(){CD.isMobile=c(),CD.isMobile?(b("div.wpsr-floatbar-float_left").remove(),b(".showDisqus").css("display","block")):b("#disqus_thread").length&&CD.Helpers.setupComments()},a}(CD.Device||{},jQuery);var CD=CD||{};CD.EventCountdown=function(a,b){var c=864e5,d=function(a,b,c,d,e){a.find(".amount.days").text(b),a.find(".amount.hours").text(c),a.find(".amount.minutes").text(d),a.find(".amount.seconds").text(e)},e=function(a){window.setInterval(function(){var b=new Date(1e3*a.data("end-timestamp")),e=new Date(b-Date.now()),f=Math.floor(e.getTime()/c),g=e.getUTCHours(),h=e.getUTCMinutes(),i=e.getUTCSeconds();d(a,f,g,h,i)},1e3)};return a.init=function(){b(".event-countdown").each(function(){e(b(this))})},a}(CD.EventCountdown||{},jQuery);var CD=CD||{};CD.Events=function(a,b){var c=function(){var a,c=b(".previous-next"),d=b(".popup"),e="-300px";!CD.isMobile&&c.length&&(a=function(){CD.Helpers.scrolledPast(c)&&d.css("right")===e?d.animate({right:"0"},500):CD.Helpers.scrolledPast(c)||"0px"!==d.css("right")||d.animate({right:e},500)},b(window).scroll(CD.Helpers.debounce(a,100,!1)))},d=function(){b(".showDisqus").on("click",function(){b(this).fadeOut(),CD.Helpers.setupComments()}),b(".tip").on("click",function(){b(this).find(".tip-content").slideToggle(200)}),b(".widget .tabs li").click(function(a){var c=b(this).closest(".tabs-wrapper");if(!b(this).parent().attr("data-link")){var d=b(this).attr("rel");c.find(".tabs li").removeClass("active"),b(this).addClass("active"),c.find(".tab_content").hide(),c.find("#"+d).fadeIn(),a.preventDefault()}}),c()};return a.init=function(){d()},a}(CD.Events||{},jQuery);var CD=CD||{};CD.HeaderBPI=function(a,b){var c=6e4,d=b(".bpi-info-button"),e=b("#exinfo"),f=(b("#extable"),e.find(".bpiUpdated"),function(a){var c,d;for(d in a.bpi)c=CD.Helpers.formatMoney(a.bpi[d].rate_float,2,a.bpi[d].symbol),b("#bpiDisplay .bpi"+d).html(c)}),g=function(a){var c,d;for(c in a.changepc)d=a.changepc[c],b("#bpiDisplay .change"+c).removeClass("data-up data-down").html(d+"%").addClass(d>=0?"data-up":"data-down")},h=function(){d.hover(function(){e.stop(!0,!0).fadeIn(200)},function(){e.stop(!0,!0).fadeOut(100)}),b(".price-usd, .price-eur, .price-gbp").click(function(){window.location="/price/"}),b(".price-cny").click(function(){window.location="/price-cny/"})};return a.init=function(){var a=["BTC","ETH"],b=a.length;setInterval(function(){for(var c=0;c<b;c++)CD.Api.getBPICurrentPrice(a[c]).done(function(a){f(a),g(a)})},c),h()},a}(CD.HeaderBPI||{},jQuery);var CD=CD||{};CD.HeaderChart=function(a,b,c){var d=b("#header-chart"),e={},f={},g={lines:12,length:8,width:3,radius:7,color:"#757575",speed:1.3},h=function(a,b){f=CD.ChartConfigs.getHeaderChartConfig(a.d,b),e=new Highcharts.Chart(f)},i=function(){b(".header-price-index").click(function(){window.location="/price/"})};return a.data={},a.init=function(){function b(b){CD.Api.getBPICurrentPrice24Hours(b).retry({times:3,timeout:3e3}).done(function(c){a.data=c,j.stop(),h(c,b)}).fail(function(){j.stop(),_gaq.push(["_trackEvent","Access Error","Call to https://api.coindesk.com/headerchart/history failed"])}),i()}for(var e=["ETH","BTC"],f=e.length,j=new c(g).spin(d.get(0)),k=0;k<f;k++)b(e[k])},a}(CD.HeaderChart||{},jQuery,Spinner);var CD=CD||{};CD.Helpers=function(a,b){return a.formatMoney=function(a,b,c,d,e){var f,g,h;return b=isNaN(b=Math.abs(b))?2:b,c=void 0!==c?c:"$",c="&dollar;"===c?"$":c,d=void 0!==d?d:",",e=e||".",f=a<0?"-":"",g=parseInt(a=Math.abs(+a||0).toFixed(b),10)+"",h=(h=g.length)>3?h%3:0,c+f+(h?g.substr(0,h)+d:"")+g.substr(h).replace(/(\d{3})(?=\d)/g,"$1"+d)+(b?e+Math.abs(a-g).toFixed(b).slice(2):"")},a.addCommas=function(a){a+="";for(var b=a.split("."),c=b[0],d=b.length>1?"."+b[1]:"",e=/(\d+)(\d{3})/;e.test(c);)c=c.replace(e,"$1,$2");return c+d},a.displayRounded=function(a,b){var c=b||0,d=Math.pow(10,c);return Math.round(a*d)/d},a.abbreviateNumber=function(a){var b,c,d,e,f,g=["","K","M","B","T"];if(a>=1e3){for(c=Math.floor((""+a).length/3),d="",f=4;f>=1&&(d=parseFloat((0!==c?a/Math.pow(1e3,c):a).toPrecision(f)),e=(d+"").replace(/[^a-zA-Z 0-9]+/g,""),!(e.length<=4));f--);b=d+g[c]}return b},a.getPercentageChange=function(a,b){return(b-a)/a*100},a.stripDomainFromUrl=function(a){return a.replace(/^.*\/\/[^\/]+/,"")},a.getReferrerDomain=function(){var a=document.referrer.match(/:\/\/(www\.|)([^\/]*)/);return a&&a.length>=3&&(a=a[2]),a},a.getFBWidth=function(){return b(window).width()<400?270:300},a.setupComments=function(){return b.ajax({type:"GET",url:"//coindesk.disqus.com/embed.js",dataType:"script",cache:!0})},a.debounce=function(a,b,c){var d;return function(){function e(){c||a.apply(f,g),d=null}var f=this,g=arguments;d?clearTimeout(d):c&&a.apply(f,g),d=setTimeout(e,b||100)}},a.scrolledVisible=function(a){var c=b(window).scrollTop(),d=c+b(window).height(),e=a.offset().top,f=e+a.height();return f<=d&&e>=c},a.scrolledPast=function(a){var c=b(window).scrollTop(),d=c+b(window).height(),e=a.offset().top;return e<=d},a.detectPages=function(a){var b,c;if(a instanceof Array&&a.length)b=a.join("|");else{if("string"!=typeof a)return!1;b=a}return c=new RegExp("/("+b+")/?$","i"),null!==window.location.pathname.match(c)},a.dateToYMD=function(a){var b=a.getDate(),c=a.getMonth()+1,d=a.getFullYear();return""+d+"-"+(c<=9?"0"+c:c)+"-"+(b<=9?"0"+b:b)},a.dateFromYMD=function(a){var b=a.split("-");return 3===b.length&&new Date(b[0],b[1]-1,b[2])},a.isWithinDateRange=function(a,b,c){return a=a.setHours(0,0,0,0),b=b.setHours(0,0,0,0),c=c.setHours(23,59,59,999),a>=b&&a<=c},a.encompassesRange=function(a,b){return a[0]=a[0].setHours(0,0,0,0),b[0]=b[0].setHours(0,0,0,0),a[1]=a[1].setHours(23,59,59,999),b[1]=b[1].setHours(23,59,59,999),a[0]>=b[0]&&a[0]<=b[1]&&a[1]>=b[0]&&a[1]<=b[1]},a}(CD.Helpers||{},jQuery);var CD=CD||{};CD.Newsletter=function(a,b,c){var d,e,f,g,h,i=function(a){f.html(a).fadeIn(450)},j=function(){return g.val()?!!k(g.val())||(i("Your email address looks incorrect, please try again."),!1):(i("Please enter your email address."),!1)},k=function(a){var b=new RegExp(/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?$/i);return b.test(a)},l=function(){var a=d.data("tracking-label")||"Unknown",c=d.data("cookie-name")||"subscribed-to-newsletter",f=d.data("success-text")||"Please check your inbox to confirm your subscription.";_gaq.push(["_trackEvent","Email Signup",a]),"Follow Overlay"==a&&_gaq.push(["_trackEvent","Overlay","Follow","Newsletter sign up"]),b.cookie(c,1,{expires:365,path:"/"}),i(f),e.hide()},m=function(){h.removeAttr("disabled"),i('An unknown error has occurred.<br>Please email <a href="mailto:contact@coindesk.com">contact@coindesk.com</a>'),e.hide()},n=function(a){var c;a.preventDefault(),j()&&(d.children().animate({opacity:.2},500),h.attr("disabled","disabled"),c=e.serialize(),b.ajax({type:e.attr("method"),url:e.attr("action"),data:c}).then(function(a){a?m():l()},function(){m()}).always(function(){d.children().animate({opacity:1},300)}))};return a.init=function(){b(".list-signup:not(.no-ajax) form").submit(function(a){e=b(this),d=e.closest(".list-signup"),f=d.find(".output"),g=e.find("input[type=email]"),h=e.find("input[type=submit]"),n(a)})},a}(CD.Newsletter||{},jQuery,Spinner);var CD=CD||{};CD.Reddit=function(a,b){var c=["BTCNews","MuchBitcoin"],d=function(a){return b.inArray(a,c)!==-1},e=function(){var a="https://redditstatic.s3.amazonaws.com",b="http://www.reddit.com/static",c="https:"===document.location.protocol?a:b;return c+"/button/button1.html"},f=function(){return document.referrer.match(/reddit.com(\/|\/\/)r(\/|\/\/)([^\/]*)/)[3]},g=function(a,c){var d=e(),f="?title="+encodeURIComponent(c)+"&"+b.param(a),g='<iframe src="'+d+f+'" height="22" width="120" scrolling="no" frameborder="0"></iframe>';return g};return a.init=function(){var a,c,e,h,i,j;a=b(".reddit-share-button"),a.length&&(c=CD.Helpers.getReferrerDomain(),h=a.attr("data-title")||document.title,i={width:120,url:b("[rel=canonical]").attr("href")||window.location.href,sr:"Bitcoin"},"reddit.com"===c?(i.sr=f(),a.html(g(i,h))):(e=CD.Helpers.stripDomainFromUrl(i.url),j=-999,CD.Api.redditSearch(e).done(function(a){var b,c;if(a.data&&a.data.children)for(b=0;b<a.data.children.length;b++)c=a.data.children[b].data,c.score>j&&c.url.indexOf("https://www.coindesk.com")>-1&&!d(c.subreddit)&&(j=c.score,i.sr=c.subreddit)}).always(function(){a.html(g(i,h))})))},a}(CD.Reddit||{},jQuery);var CD=CD||{};CD.TestSuite=function(pub,$){var _tests=[],TestSetup=function(){var getTestDetails=function(a){var b=$.cookie("_cdtest_"+a);if(b){var c=b.split("|");return{testVariation:+c[0],views:c[1],firstSeen:c[2],lastSeen:c[3]}}return null},setTestDetails=function(a,b,c){var d=b.testVariation+"|"+b.views+"|"+b.firstSeen+"|"+b.lastSeen;$.cookie("_cdtest_"+a,d,{expires:c})};this.run=function(_gaq,tests){for(var timestamp=Math.floor((new Date).getTime()/1e3),userTest=null,i=0;i<tests.length;i++)userTest=getTestDetails(tests[i].cookieName),userTest||(userTest={testVariation:null,views:0,firstSeen:timestamp,lastSeen:timestamp},userTest.testVariation=Math.random()<tests[i].sample?1:2),userTest.views=parseInt(userTest.views,10)+1,userTest.lastSeen=timestamp,setTestDetails(tests[i].cookieName,userTest,tests[i].cookieLength),2===userTest.testVariation&&eval(tests[i].variationEval),_gaq.push(["_setCustomVar",tests[i].gaCustomVar,tests[i].testName,tests[i].variationNames[userTest.testVariation],2])}};return pub.init=function(){if(_gaq){var a=new TestSetup;a.run(_gaq,_tests)}},pub}(CD.TestSuite||{},jQuery);var CD=CD||{};CD.Tooltips=function(a,b){var c=function(a){var c=a.data("title"),d=a.data("position"),e=b("<div />",{class:"tooltip "+d}).text(c);a.append(e)},d=function(){var a={},c=b(this).data("position");a.opacity=1,"vertical"===c?a.top="-=10":a.left="+=10",b(this).find("div.tooltip").stop(!0,!0).animate(a,200)},e=function(){var a={},c=b(this).data("position");a.opacity=0,"vertical"===c?a.top="+=10":a.left="-=10",b(this).find("div.tooltip").stop(!0,!0).animate(a,200)},f=function(){b("a.tooltip").on({mouseenter:d,mouseleave:e})};return a.init=function(){b("a.tooltip").each(function(){c(b(this))}),f()},a}(CD.Tooltips||{},jQuery);var CD=CD||{};CD.Tracking=function(a,b){var c=function(){var c=a.trackAnchorClick,d=b('body.single .single-post .single-author a[rel="author"]').html();b("#coindesk_quotes_widget-2 a").on("click",function(a){c.call(this,a,!0,"Quotes","Click")}),b("div.grid_4.sidebar .guide ul li a").on("click",function(a){c.call(this,a,!0,"RHS Guides","Click")}),b("article.popup a").on("click",function(a){c.call(this,a,!0,"Article","Slide-In Click")}),b("body.single .single-post div.previous-next a").on("click",function(a){c.call(this,a,!0,"Article","Previous/Next")}),b("body.single .single-post div.related-posts a").on("click",function(a){c.call(this,a,!0,"Article","Related Posts")}),b(".widget_coindesk_follow_us_widget .icons a").on("click",function(a){return c.call(this,a,!0,"Social Clickout",b(this).parent().attr("class"))}),b("body.single .single-post .single-author .authortwitter").on("click",function(a){c.call(this,a,!1,"Article","Author Twitter Click",d)}),b("ul#popular li a").on("click",function(a){c.call(this,a,!0,"RHS Must Read/Most Popular","Popular Click")}),b("ul#must-read li a").on("click",function(a){c.call(this,a,!0,"RHS Must Read/Most Popular","Must Read Click")}),b(".header-trending a").on("click",function(a){c.call(this,a,!0,"Trending Post","Click")}),b("#featured-posts li a").on("click",function(a){c.call(this,a,!0,"RHS Features","Click")}),b(".header-logo a").on("click",function(a){c.call(this,a,!0,"Header Logo","Click")}),b("#menu-item-14880 > a").on("click",function(a){c.call(this,a,!0,"Home Menu Item","Click")}),b("#search").submit(function(){_gaq.push(["_trackEvent","Searches","RHS",b("#s").val()])}),b(".widget_coindesk_promotion_consensus_video_widget > a").on("click",function(a){c.call(this,a,!0,"Events: Consensus 2016","Sidebar Video Promotion Click")})};return a.trackAnchorClick=function(a,c,d,e,f){var g;return c&&(g=b(this).attr("href"),f||(f=g)),_gaq.push(["_set","hitCallback",function(){if(g){var a="_blank"===b(this).attr("target");a?window.open(g,"_blank"):window.location=g}}]),_gaq.push(["_trackEvent",d,e,f]),!window._gaq},a.init=function(){c()},a}(CD.Tracking||{},jQuery),jQuery(document).ready(function(){var a=CD.Helpers.detectPages;CD.Device.init(),CD.HeaderChart.init(),CD.HeaderBPI.init(),CD.Newsletter.init(),CD.Tooltips.init(),CD.Tracking.init(),CD.TestSuite.init(),CD.Events.init(),CD.Reddit.init(),CD.EventCountdown.init(),a(["price","calculator"])&&CD.Calculator.init(),a("sentiment-index")&&CD.SentimentIndex.init()});